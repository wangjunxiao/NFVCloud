This package will parse the \href{https://tools.ietf.org/html/rfc7231#section-3.1.1.1}{\tt {\ttfamily Content-\/\+Type}} header field into an introspectable data structure, whose parameters can be manipulated\+:


\begin{DoxyCode}
const contentTypeParser = require("content-type-parser");

const contentType = contentTypeParser(`Text/HTML;Charset="utf-8"`);

console.assert(contentType.toString() === "text/html;charset=utf-8");

console.assert(contentType.type === "text");
console.assert(contentType.subtype === "html");
console.assert(contentType.get("charset") === "utf-8");

contentType.set("charset", "windows-1252");
console.assert(contentType.get("charset") === "windows-1252");
console.assert(contentType.toString() === "text/html;charset=windows-1252");

console.assert(contentType.isHTML() === true);
console.assert(contentType.isXML() === false);
console.assert(contentType.isText() === true);
\end{DoxyCode}


Note how parsing will lowercase the type, subtype, and parameter name tokens (but not parameter values).

If the passed string cannot be parsed as a content-\/type, {\ttfamily content\+Type\+Parser} will return {\ttfamily null}.

\subsection*{{\ttfamily Content\+Type} instance A\+PI}

This package\textquotesingle{}s main module\textquotesingle{}s default export will return an instance of the {\ttfamily Content\+Type} class, which has the following public A\+P\+Is\+:

\subsubsection*{Properties}


\begin{DoxyItemize}
\item {\ttfamily type}\+: the top-\/level media type, e.\+g. {\ttfamily \char`\"{}text\char`\"{}}
\item {\ttfamily subtype}\+: the subtype, e.\+g. {\ttfamily \char`\"{}html\char`\"{}}
\item {\ttfamily parameter\+List}\+: an array of {\ttfamily \{ separator, key, value \}} pairs representing the parameters. The {\ttfamily separator} field contains any whitespace, not just the {\ttfamily ;} character.
\end{DoxyItemize}

\subsubsection*{Parameter manipulation}

In general you should not directly manipulate {\ttfamily parameter\+List}. Instead, use the following A\+P\+Is\+:


\begin{DoxyItemize}
\item {\ttfamily get(\char`\"{}key\char`\"{})}\+: returns the value of the parameter with the given key, or {\ttfamily undefined} if no such parameter is present
\item {\ttfamily set(\char`\"{}key\char`\"{}, \char`\"{}value\char`\"{})}\+: adds the given key/value pair to the parameter list, or overwrites the existing value if an entry already existed
\end{DoxyItemize}

Both of these will lowercase the keys.

\subsubsection*{M\+I\+ME type tests}


\begin{DoxyItemize}
\item {\ttfamily is\+H\+T\+M\+L()}\+: returns true if this instance\textquotesingle{}s M\+I\+ME type is \href{https://html.spec.whatwg.org/multipage/infrastructure.html#html-mime-type}{\tt the H\+T\+ML M\+I\+ME type}, {\ttfamily \char`\"{}text/html\char`\"{}}
\item {\ttfamily is\+X\+M\+L()}\+: returns true if this instance\textquotesingle{}s M\+I\+ME type is \href{https://html.spec.whatwg.org/multipage/infrastructure.html#xml-mime-type}{\tt an X\+ML M\+I\+ME type}
\item {\ttfamily is\+Text()}\+: returns true if this instance\textquotesingle{}s top-\/level media type is {\ttfamily \char`\"{}text\char`\"{}}
\end{DoxyItemize}

\subsubsection*{Serialization}


\begin{DoxyItemize}
\item {\ttfamily to\+String()} will return a canonicalized representation of the content-\/type, re-\/built from the parsed components
\end{DoxyItemize}

\subsection*{Credits}

This package was originally based on the excellent work of \href{https://github.com/nicolashenry}{\tt }, \href{https://github.com/tmpvar/jsdom/blob/16fd85618f2705d181232f6552125872a37164bc/lib/jsdom/living/helpers/headers.js}{\tt in jsdom}. It has since been pulled out into this separate package. 