\begin{quote}
\href{https://github.com/postcss/postcss}{\tt Post\+C\+SS} plugin to reduce {\ttfamily calc()}. \end{quote}


This plugin reduce {\ttfamily calc()} references whenever it\textquotesingle{}s possible. This can be particularly useful with the \href{https://github.com/postcss/postcss-custom-properties}{\tt postcss-\/custom-\/properties} plugin.

{\bfseries Note\+:} When multiple units are mixed together in the same expression, the {\ttfamily calc()} statement is left as is, to fallback to the \href{http://www.w3.org/TR/css3-values/#calc}{\tt w3c calc() feature}.

\subsection*{Installation}


\begin{DoxyCode}
$ npm install postcss-calc
\end{DoxyCode}


\subsection*{Usage}


\begin{DoxyCode}
// dependencies
var fs = require("fs")
var postcss = require("postcss")
var calc = require("postcss-calc")

// css to be processed
var css = fs.readFileSync("input.css", "utf8")

// process css
var output = postcss()
  .use(calc())
  .process(css)
  .css
\end{DoxyCode}


{\bfseries Example} (with \href{https://github.com/postcss/postcss-custom-properties}{\tt postcss-\/custom-\/properties} enabled as well)\+:


\begin{DoxyCode}
// dependencies
var fs = require("fs")
var postcss = require("postcss")
var customProperties = require("postcss-custom-properties")
var calc = require("postcss-calc")

// css to be processed
var css = fs.readFileSync("input.css", "utf8")

// process css
var output = postcss()
  .use(customProperties())
  .use(calc())
  .process(css)
  .css
\end{DoxyCode}


Using this {\ttfamily input.\+css}\+:


\begin{DoxyCode}
:root \{
  --main-font-size: 16px;
\}

body \{
  font-size: var(--main-font-size);
\}

h1 \{
  font-size: calc(var(--main-font-size) * 2);
  height: calc(100px - 2em);
  margin-bottom: calc(
      var(--main-font-size)
      * 1.5
    )
\}
\end{DoxyCode}


you will get\+:


\begin{DoxyCode}
body \{
  font-size: 16px
\}

h1 \{
  font-size: 32px;
  height: calc(100px - 2em);
  margin-bottom: 24px
\}
\end{DoxyCode}


Checkout \mbox{[}tests\mbox{]}(test) for more examples.

\subsubsection*{Options}

\paragraph*{{\ttfamily precision} (default\+: {\ttfamily 5})}

Allow you to definine the precision for decimal numbers.


\begin{DoxyCode}
var out = postcss()
  .use(calc(\{precision: 10\}))
  .process(css)
  .css
\end{DoxyCode}


\paragraph*{{\ttfamily preserve} (default\+: {\ttfamily false})}

Allow you to preserve calc() usage in output so browsers will handle decimal precision themselves.


\begin{DoxyCode}
var out = postcss()
  .use(calc(\{preserve: true\}))
  .process(css)
  .css
\end{DoxyCode}


\paragraph*{{\ttfamily warn\+When\+Cannot\+Resolve} (default\+: {\ttfamily false})}

Adds warnings when calc() are not reduced to a single value.


\begin{DoxyCode}
var out = postcss()
  .use(calc(\{warnWhenCannotResolve: true\}))
  .process(css)
  .css
\end{DoxyCode}


\paragraph*{{\ttfamily media\+Queries} (default\+: {\ttfamily false})}

Allows calc() usage as part of media query declarations.


\begin{DoxyCode}
var out = postcss()
  .use(calc(\{mediaQueries: true\}))
  .process(css)
  .css
\end{DoxyCode}


\paragraph*{{\ttfamily selectors} (default\+: {\ttfamily false})}

Allows calc() usage as part of selectors.


\begin{DoxyCode}
var out = postcss()
  .use(calc(\{selectors: true\}))
  .process(css)
  .css
\end{DoxyCode}


Example\+:


\begin{DoxyCode}
div[data-size="calc(3*3)"] \{
  width: 100px;
\}
\end{DoxyCode}
 



\subsection*{Contributing}

Work on a branch, install dev-\/dependencies, respect coding style \& run tests before submitting a bug fix or a feature.


\begin{DoxyCode}
$ git clone https://github.com/postcss/postcss-calc.git
$ git checkout -b patch-1
$ npm install
$ npm test
\end{DoxyCode}


\subsection*{C\+H\+A\+N\+G\+E\+L\+O\+G.\+md \char`\"{}\+Changelog\char`\"{}}

\subsection*{\mbox{[}License\mbox{]}(L\+I\+C\+E\+N\+SE)}