\subsection*{Adding a new plugin to support (when approved in the next E\+C\+M\+A\+Script version)}

\subsubsection*{Update \href{https://github.com/babel/babel-preset-env/blob/master/data/plugin-features.js}{\tt {\ttfamily plugin-\/features.\+js}}}

{\itshape Example\+:}

If you were going to add {\ttfamily $\ast$$\ast$} which is in E\+S2016\+:

Find the relevant entries on \href{https://kangax.github.io/compat-table/es2016plus/#test-exponentiation_(**)_operator}{\tt compat-\/table}\+:

{\ttfamily exponentiation ($\ast$$\ast$) operator}

Find the corresponding babel plugin\+:

{\ttfamily transform-\/exponentiation-\/operator}

And add them in this structure\+:


\begin{DoxyCode}
// es2016
"transform-exponentiation-operator": \{
  features: [
    "exponentiation (**) operator",
  ],
\},
\end{DoxyCode}


\subsubsection*{Update \href{https://github.com/babel/babel-preset-env/blob/master/data/built-in-features.js}{\tt {\ttfamily built-\/in-\/features.\+js}}}

{\itshape Example\+:}

In case you want to add {\ttfamily Object.\+values} which is in E\+S2017\+:

Find the relevant feature and subfeature on \href{https://kangax.github.io/compat-table/es2016plus/#test-Object_static_methods_Object.values}{\tt compat-\/table} and split it with {\ttfamily /}\+:

{\ttfamily Object static methods / Object.\+values}

Find the corresponding module on \href{https://github.com/zloirock/core-js/tree/master/modules}{\tt core-\/js}\+:

{\ttfamily es7.\+object.\+values.\+js}

Find required ES version in \href{https://github.com/babel/babel-preset-env/blob/master/data/built-in-features.js}{\tt {\ttfamily built-\/in-\/features.\+js}} and add the new feature\+:


\begin{DoxyCode}
const es2017 = \{
  //...
  "es7.object.values": "Object static methods / Object.values"
\}
\end{DoxyCode}


\subsubsection*{Update \href{https://github.com/babel/babel-preset-env/blob/master/data/plugins.json}{\tt {\ttfamily plugins.\+json}}}

Until {\ttfamily compat-\/table} is a standalone npm module for data we are using the git url

{\ttfamily \char`\"{}compat-\/table\char`\"{}\+: \char`\"{}kangax/compat-\/table\#\mbox{[}latest-\/commit-\/hash\mbox{]}\char`\"{}},

So we update and then run {\ttfamily npm run build-\/data}. If there are no changes, then {\ttfamily plugins.\+json} will be the same.

\subsection*{Tests}

\subsubsection*{Running tests locally}


\begin{DoxyCode}
npm test
\end{DoxyCode}


\subsubsection*{Checking code coverage locally}


\begin{DoxyCode}
npm run coverage
\end{DoxyCode}


\subsubsection*{Writing tests}

\paragraph*{General}

All the tests for {\ttfamily babel-\/preset-\/env} exist in the {\ttfamily test/fixtures} folder. The test setup and conventions are exactly the same as testing a Babel plugin, so please read our \href{https://github.com/babel/babel/blob/master/CONTRIBUTING.md#babel-plugin-x}{\tt documentation on writing tests}.

\paragraph*{Testing the {\ttfamily debug} option}

Testing debug output to {\ttfamily stdout} is similar. Under the {\ttfamily test/debug-\/fixtures}, create a folder with a descriptive name of your test, and add the following\+:


\begin{DoxyItemize}
\item Add a {\ttfamily options.\+json} file (just as the other tests, this is essentially a {\ttfamily .babelrc}) with the desired test configuration (required)
\item Add a {\ttfamily stdout.\+txt} file with the expected debug output. For added convenience, if there is no {\ttfamily stdout.\+txt} present, the test runner will generate one for you. 
\end{DoxyItemize}