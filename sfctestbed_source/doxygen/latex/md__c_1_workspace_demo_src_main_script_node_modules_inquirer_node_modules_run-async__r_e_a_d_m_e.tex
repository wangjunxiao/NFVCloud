\href{http://badge.fury.io/js/run-async}{\tt } \href{http://travis-ci.org/SBoudrias/run-async}{\tt } \href{https://david-dm.org/SBoudrias/run-async}{\tt }

Utility method to run a function either synchronously or asynchronously using a series of common patterns. This is useful for library author accepting sync or async functions as parameter. {\ttfamily run\+Async} will always run them as an async method, and normalize the multiple signature.

\section*{Installation }


\begin{DoxyCode}
npm install --save run-async
\end{DoxyCode}


\section*{Usage }

Here\textquotesingle{}s a simple example print the function results and three options a user can provide a function.


\begin{DoxyCode}
var runAsync = require('run-async');

var printAfter = function (func) \{
  var cb = function (err, returnValue) \{
    console.log(returnValue);
  \};
  runAsync(func, cb)(/* arguments for func */);
\};
\end{DoxyCode}


\#\#\#\# Using {\ttfamily this.\+async} 
\begin{DoxyCode}
printAfter(function () \{
  var done = this.async();

  setTimeout(function () \{
    done(null, 'done running with callback');
  \}, 10);
\});
\end{DoxyCode}


\#\#\#\# Returning a promise 
\begin{DoxyCode}
printAfter(function () \{
  return new Promise(function (resolve, reject) \{
    resolve('done running with promises');
  \});
\});
\end{DoxyCode}


\#\#\#\# Synchronous function 
\begin{DoxyCode}
printAfter(function () \{
  return 'done running sync function';
\});
\end{DoxyCode}


\subsubsection*{run\+Async.\+cb}

{\ttfamily run\+Async.\+cb} supports all the function types that {\ttfamily run\+Async} does and additionally a traditional {\bfseries callback as the last argument} signature\+:


\begin{DoxyCode}
var runAsync = require('run-async');

// IMPORTANT: The wrapped function must have a fixed number of parameters.
runAsync.cb(function(a, b, cb) \{
  cb(null, a + b);
\}, function(err, result) \{
  console.log(result)
\})(1, 2)
\end{DoxyCode}


If your version of node support Promises natively (node $>$= 0.\+12), {\ttfamily run\+Async} will return a promise. Example\+: {\ttfamily run\+Async(func)(arg1, arg2).then(cb)}

\section*{Licence }

Copyright (c) 2014 Simon Boudrias (twitter\+: ) ~\newline
Licensed under the M\+IT license. 