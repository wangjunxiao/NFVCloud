\href{https://npmjs.com/package/style-loader}{\tt } \href{https://nodejs.org}{\tt } \href{https://david-dm.org/webpack/file-loader}{\tt } \href{https://gitter.im/webpack/webpack}{\tt }

 \href{https://github.com/webpack/webpack}{\tt } \section*{Style Loader}

 

Adds C\+SS to the D\+OM by injecting a {\ttfamily $<$style$>$} tag

 

\subsection*{Install}


\begin{DoxyCode}
npm install style-loader --save-dev
\end{DoxyCode}


\subsection*{\href{https://webpack.js.org/concepts/loaders}{\tt Usage}}

It\textquotesingle{}s recommended to combine {\ttfamily style-\/loader} with the \href{https://github.com/webpack/css-loader}{\tt {\ttfamily css-\/loader}}

{\bfseries component.\+js} 
\begin{DoxyCode}
import style from './file.css'
\end{DoxyCode}


{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  module: \{
    rules: [
      \{
        test: /\(\backslash\).css$/,
        use: [
          \{ loader: "style-loader" \},
          \{ loader: "css-loader" \}
        ]
      \}
    ]
  \}
\}
\end{DoxyCode}


\paragraph*{{\ttfamily Locals (C\+SS Modules)}}

When using \href{https://github.com/webpack/css-loader#css-scope}{\tt local scoped C\+SS} the module exports the generated identifiers (locals).

{\bfseries component.\+js} 
\begin{DoxyCode}
import style from './file.css'

style.className === "z849f98ca812"
\end{DoxyCode}


\subsubsection*{{\ttfamily Url}}

It\textquotesingle{}s also possible to add a \mbox{\hyperlink{namespace_u_r_l}{U\+RL}} {\ttfamily $<$link href=\char`\"{}path/to/file.\+css\char`\"{} rel=\char`\"{}stylesheet\char`\"{}$>$} instead of a inlining the C\+SS {\ttfamily \{String\}} with {\ttfamily $<$style$>$$<$/style$>$} tag.


\begin{DoxyCode}
import url from 'file.css'
\end{DoxyCode}


{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  module: \{
    rules: [
      \{
        test: /\(\backslash\).css$/,
        use: [
          \{ loader: "style-loader/url" \},
          \{ loader: "file-loader" \}
        ]
      \}
    ]
  \}
\}
\end{DoxyCode}



\begin{DoxyCode}
<link rel="stylesheet" href="path/to/file.css">
\end{DoxyCode}


\begin{quote}
\+:information\+\_\+source\+: Source maps and assets referenced with {\ttfamily url}\+: when style loader is used with {\ttfamily \{ options\+: \{ source\+Map\+: true \} \}} option, the C\+SS modules will be generated as {\ttfamily Blob}s, so relative paths don\textquotesingle{}t work (they would be relative to {\ttfamily chrome\+:blob} or {\ttfamily chrome\+:devtools}). In order for assets to maintain correct paths setting {\ttfamily output.\+public\+Path} property of webpack configuration must be set, so that absolute paths are generated. Alternatively you can enable the {\ttfamily convert\+To\+Absolute\+Urls} option mentioned above. \end{quote}


\subsubsection*{{\ttfamily Useable}}

By convention the {\ttfamily Reference Counter A\+PI} should be bound to {\ttfamily .useable.\+css} and the {\ttfamily .css} should be loaded with basic {\ttfamily style-\/loader} usage.(similar to other file types, i.\+e. {\ttfamily .useable.\+less} and {\ttfamily .less}).

{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  module: \{
    rules: [
      \{
        test: /\(\backslash\).css$/,
        use: [
          \{ loader: "style-loader" \},
          \{ loader: "css-loader" \},
        ],
      \},
      \{
        test: /\(\backslash\).useable\(\backslash\).css$/,
        use: [
          \{
            loader: "style-loader/useable"
          \},
          \{ loader: "css-loader" \},
        ],
      \},
    ],
  \},
\}
\end{DoxyCode}


\paragraph*{{\ttfamily Reference Counter A\+PI}}

{\bfseries component.\+js} 
\begin{DoxyCode}
import style from './file.css'

style.use(); // = style.ref();
style.unuse(); // = style.unref();
\end{DoxyCode}


Styles are not added on {\ttfamily import/require()}, but instead on call to {\ttfamily use}/{\ttfamily ref}. Styles are removed from page if {\ttfamily unuse}/{\ttfamily unref} is called exactly as often as {\ttfamily use}/{\ttfamily ref}.

\+:warning\+: Behavior is undefined when {\ttfamily unuse}/{\ttfamily unref} is called more often than {\ttfamily use}/{\ttfamily ref}. Don\textquotesingle{}t do that.

\subsection*{Options}

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Name  }&\textbf{ Type  }&\textbf{ Default  }&\textbf{ Description   }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Name  }&\textbf{ Type  }&\textbf{ Default  }&\textbf{ Description   }\\\cline{1-4}
\endhead
$\ast$$\ast${\ttfamily base}$\ast$$\ast$  &{\ttfamily \{Number\}}  &{\ttfamily true}  &Set module ID base (D\+L\+L\+Plugin)   \\\cline{1-4}
$\ast$$\ast${\ttfamily attrs}$\ast$$\ast$  &{\ttfamily \{Object\}}  &{\ttfamily \{\}}  &Add custom attrs to {\ttfamily $<$style$>$$<$/style$>$}   \\\cline{1-4}
$\ast$$\ast${\ttfamily transform}$\ast$$\ast$  &{\ttfamily \{Function\}}  &{\ttfamily false}  &Transform/\+Conditionally load C\+SS by passing a transform/condition function   \\\cline{1-4}
$\ast$$\ast${\ttfamily insert\+At}$\ast$$\ast$  &{\ttfamily \{String\}}  &{\ttfamily bottom}  &Inserts {\ttfamily $<$style$>$$<$/style$>$} at the given position   \\\cline{1-4}
$\ast$$\ast${\ttfamily insert\+Into}$\ast$$\ast$  &{\ttfamily \{String\}}  &{\ttfamily $<$head$>$}  &Inserts {\ttfamily $<$style$>$$<$/style$>$} into the given position   \\\cline{1-4}
$\ast$$\ast${\ttfamily source\+Map}$\ast$$\ast$  &{\ttfamily \{Boolean\}}  &{\ttfamily false}  &Enable/\+Disable Sourcemaps   \\\cline{1-4}
$\ast$$\ast${\ttfamily convert\+To\+Absolute\+Urls}$\ast$$\ast$  &{\ttfamily \{Boolean\}}  &{\ttfamily false}  &Coverts relative U\+R\+Ls to absolute urls, when source maps are enabled   \\\cline{1-4}
\end{longtabu}


\subsubsection*{{\ttfamily base}}

This setting is primarily used as a workaround for \href{https://github.com/webpack-contrib/style-loader/issues/163}{\tt css clashes} when using one or more \href{https://robertknight.github.io/posts/webpack-dll-plugins/}{\tt Dll\+Plugin}\textquotesingle{}s. {\ttfamily base} allows you to prevent either the {\itshape app}\textquotesingle{}s css (or {\itshape Dll\+Plugin2}\textquotesingle{}s css) from overwriting {\itshape Dll\+Plugin1}\textquotesingle{}s css by specifying a css module id base which is greater than the range used by {\itshape Dll\+Plugin1} e.\+g.\+:

{\bfseries webpack.\+dll1.\+config.\+js} 
\begin{DoxyCode}
\{
  test: /\(\backslash\).css$/,
  use: [
    'style-loader',
    'css-loader'
  ]
\}
\end{DoxyCode}


{\bfseries webpack.\+dll2.\+config.\+js} 
\begin{DoxyCode}
\{
  test: /\(\backslash\).css$/,
  use: [
    \{ loader: 'style-loader', options: \{ base: 1000 \} \},
    'css-loader'
  ]
\}
\end{DoxyCode}


{\bfseries webpack.\+app.\+config.\+js} 
\begin{DoxyCode}
\{
  test: /\(\backslash\).css$/,
  use: [
    \{ loader: 'style-loader', options: \{ base: 2000 \} \},
    'css-loader'
  ]
\}
\end{DoxyCode}


\subsubsection*{{\ttfamily attrs}}

If defined, style-\/loader will attach given attributes with their values on {\ttfamily $<$style$>$} / {\ttfamily $<$link$>$} element.

{\bfseries component.\+js} 
\begin{DoxyCode}
import style from './file.css'
\end{DoxyCode}


{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  test: /\(\backslash\).css$/,
  use: [
    \{ loader: 'style-loader', options: \{ attrs: \{ id: 'id' \} \} \}
    \{ loader: 'css-loader' \}
  ]
\}
\end{DoxyCode}



\begin{DoxyCode}
<style id="id"></style>
\end{DoxyCode}


\paragraph*{{\ttfamily Url}}

{\bfseries component.\+js} 
\begin{DoxyCode}
import link from './file.css'
\end{DoxyCode}


{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  test: /\(\backslash\).css$/,
  use: [
    \{ loader: 'style-loader/url', options: \{ attrs: \{ id: 'id' \} \} \}
    \{ loader: 'file-loader' \}
  ]
\}
\end{DoxyCode}


\subsubsection*{{\ttfamily transform}}

A {\ttfamily transform} is a function that can modify the css just before it is loaded into the page by the style-\/loader. This function will be called on the css that is about to be loaded and the return value of the function will be loaded into the page instead of the original css. If the return value of the {\ttfamily transform} function is falsy, the css will not be loaded into the page at all.

{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  loader: 'style-loader'
  options: \{
    transform: 'path/to/transform.js'
  \}
\}
\end{DoxyCode}


{\bfseries transform.\+js} 
\begin{DoxyCode}
module.exports = function (css) \{
  // Here we can change the original css
  const transformed = css.replace('.classNameA', '.classNameB')

  return transformed
\}
\end{DoxyCode}


\paragraph*{{\ttfamily Conditional}}

{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  loader: 'style-loader'
  options: \{
    transform: 'path/to/conditional.js'
  \}
\}
\end{DoxyCode}


{\bfseries conditional.\+js} 
\begin{DoxyCode}
module.exports = function (css) \{
  // If the condition is matched load [and transform] the CSS
  if (css.includes('something I want to check')) \{
    return css;
  \}
  // If a falsy value is returned, the CSS won't be loaded
  return false
\}
\end{DoxyCode}


\subsubsection*{{\ttfamily insert\+At}}

By default, the style-\/loader appends {\ttfamily $<$style$>$} elements to the end of the style target, which is the {\ttfamily $<$head$>$} tag of the page unless specified by {\ttfamily insert\+Into}. This will cause C\+SS created by the loader to take priority over C\+SS already present in the target. To insert style elements at the beginning of the target, set this query parameter to \textquotesingle{}top\textquotesingle{}, e.\+g

{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  loader: 'style-loader'
  options: \{
    insertAt: 'top'
  \}
\}
\end{DoxyCode}


\subsubsection*{{\ttfamily insert\+Into}}

By default, the style-\/loader inserts the {\ttfamily $<$style$>$} elements into the {\ttfamily $<$head$>$} tag of the page. If you want the tags to be inserted somewhere else, e.\+g. into a \href{https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot}{\tt Shadow\+Root}, you can specify a C\+SS selector for that element here, e.\+g

{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  loader: 'style-loader'
  options: \{
    insertAt: '#host::shadow>#root'
  \}
\}
\end{DoxyCode}


\subsubsection*{{\ttfamily singleton}}

If defined, the style-\/loader will reuse a single {\ttfamily $<$style$>$} element, instead of adding/removing individual elements for each required module.

\begin{quote}
ℹ️ This option is on by default in I\+E9, which has strict limitations on the number of style tags allowed on a page. You can enable or disable it with the singleton option. \end{quote}


{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  loader: 'style-loader'
  options: \{
    singleton: true
  \}
\}
\end{DoxyCode}


\subsubsection*{{\ttfamily source\+Map}}

Enable/\+Disable source map loading

{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  loader: 'style-loader'
  options: \{
    sourceMap: true
  \}
\}
\end{DoxyCode}


\subsubsection*{{\ttfamily convert\+To\+Absolute\+Urls}}

If convert\+To\+Absolute\+Urls and source\+Maps are both enabled, relative urls will be converted to absolute urls right before the css is injected into the page. This resolves \href{https://github.com/webpack/style-loader/pull/96}{\tt an issue} where relative resources fail to load when source maps are enabled. You can enable it with the convert\+To\+Absolute\+Urls option.

{\bfseries webpack.\+config.\+js} 
\begin{DoxyCode}
\{
  loader: 'style-loader'
  options: \{
    sourceMap: true,
    convertToAbsoluteUrls: true
  \}
\}
\end{DoxyCode}


\subsection*{Maintainers}

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{0}{|X[-1]}|}
\hline
\end{longtabu}


\href{https://github.com/bebraw}{\tt Juho Vepsäläinen }  

\href{https://github.com/d3viant0ne}{\tt Joshua Wiens }  

\href{https://github.com/sapegin}{\tt Artem Sapegin }  

\href{https://github.com/michael-ciniawsky}{\tt Michael Ciniawsky }  

\href{https://github.com/evilebottnawi}{\tt Alexander Krasnoyarov }   

\href{https://github.com/sokra}{\tt Tobias Koppers }  

\href{https://github.com/SpaceK33z}{\tt Kees Kluskens }  

$<$tbody$>$ 