{\itshape regexpu} is a source code transpiler that enables the use of E\+S6 Unicode regular expressions in Java\+Script-\/of-\/today (E\+S5).

{\itshape regexpu-\/core} contains \+\_\+regexpu\+\_\+’s core functionality, i.\+e. {\ttfamily rewrite\+Pattern(pattern, flag)}, which enables rewriting regular expressions that make use of \href{https://mathiasbynens.be/notes/es6-unicode-regex}{\tt the E\+S6 {\ttfamily u} flag} into equivalent E\+S5-\/compatible regular expression patterns.

\subsection*{Installation}

To use {\itshape regexpu-\/core} programmatically, install it as a dependency via \href{https://www.npmjs.com/}{\tt npm}\+:


\begin{DoxyCode}
npm install regexpu-core --save-dev
\end{DoxyCode}


Then, {\ttfamily require} it\+:


\begin{DoxyCode}
const rewritePattern = require('regexpu-core');
\end{DoxyCode}


\subsection*{A\+PI}

This module exports a single function named {\ttfamily rewrite\+Pattern}.

\subsubsection*{{\ttfamily rewrite\+Pattern(pattern, flags)}}

This function takes a string that represents a regular expression pattern as well as a string representing its flags, and returns an E\+S5-\/compatible version of the pattern.


\begin{DoxyCode}
rewritePattern('foo.bar', 'u');
// →
       'foo(?:[\(\backslash\)\(\backslash\)0-\(\backslash\)\(\backslash\)t\(\backslash\)\(\backslash\)x0B\(\backslash\)\(\backslash\)f\(\backslash\)\(\backslash\)x0E-\(\backslash\)\(\backslash\)u2027\(\backslash\)\(\backslash\)u202A-\(\backslash\)\(\backslash\)uD7FF\(\backslash\)\(\backslash\)uDC00-\(\backslash\)\(\backslash\)uFFFF]|[\(\backslash\)\(\backslash\)uD800-\(\backslash\)\(\backslash\)uDBFF][\(\backslash\)\(\backslash\)uDC00-\(\backslash\)\(\backslash\)uDFFF]|[\(\backslash\)\(\backslash\)uD800-\(\backslash\)\(\backslash\)uDBFF])bar'

rewritePattern('[\(\backslash\)\(\backslash\)u\{1D306\}-\(\backslash\)\(\backslash\)u\{1D308\}a-z]', 'u');
// → '(?:[a-z]|\(\backslash\)\(\backslash\)uD834[\(\backslash\)\(\backslash\)uDF06-\(\backslash\)\(\backslash\)uDF08])'

rewritePattern('[\(\backslash\)\(\backslash\)u\{1D306\}-\(\backslash\)\(\backslash\)u\{1D308\}a-z]', 'ui');
// → '(?:[a-z\(\backslash\)\(\backslash\)u017F\(\backslash\)\(\backslash\)u212A]|\(\backslash\)\(\backslash\)uD834[\(\backslash\)\(\backslash\)uDF06-\(\backslash\)\(\backslash\)uDF08])'
\end{DoxyCode}


{\itshape regexpu-\/core} can rewrite non-\/\+E\+S6 regular expressions too, which is useful to demonstrate how their behavior changes once the {\ttfamily u} and {\ttfamily i} flags are added\+:


\begin{DoxyCode}
// In ES5, the dot operator only matches BMP symbols:
rewritePattern('foo.bar');
// → 'foo(?:[\(\backslash\)\(\backslash\)0-\(\backslash\)\(\backslash\)t\(\backslash\)\(\backslash\)x0B\(\backslash\)\(\backslash\)f\(\backslash\)\(\backslash\)x0E-\(\backslash\)\(\backslash\)u2027\(\backslash\)\(\backslash\)u202A-\(\backslash\)\(\backslash\)uFFFF])bar'

// But with the ES6 `u` flag, it matches astral symbols too:
rewritePattern('foo.bar', 'u');
// →
       'foo(?:[\(\backslash\)\(\backslash\)0-\(\backslash\)\(\backslash\)t\(\backslash\)\(\backslash\)x0B\(\backslash\)\(\backslash\)f\(\backslash\)\(\backslash\)x0E-\(\backslash\)\(\backslash\)u2027\(\backslash\)\(\backslash\)u202A-\(\backslash\)\(\backslash\)uD7FF\(\backslash\)\(\backslash\)uDC00-\(\backslash\)\(\backslash\)uFFFF]|[\(\backslash\)\(\backslash\)uD800-\(\backslash\)\(\backslash\)uDBFF][\(\backslash\)\(\backslash\)uDC00-\(\backslash\)\(\backslash\)uDFFF]|[\(\backslash\)\(\backslash\)uD800-\(\backslash\)\(\backslash\)uDBFF])bar'
\end{DoxyCode}


{\ttfamily rewrite\+Pattern} uses \href{https://github.com/d10/regjsgen}{\tt regjsgen}, \href{https://github.com/jviereck/regjsparser}{\tt regjsparser}, and \href{https://github.com/mathiasbynens/regenerate}{\tt regenerate} as internal dependencies.

\subsection*{Author}

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{1}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ \mbox{[}!   }\\\cline{1-1}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ \mbox{[}!   }\\\cline{1-1}
\endhead
\href{https://mathiasbynens.be/}{\tt Mathias Bynens}   \\\cline{1-1}
\end{longtabu}


\subsection*{License}

{\itshape regexpu-\/core} is available under the \href{https://mths.be/mit}{\tt M\+IT} license. 