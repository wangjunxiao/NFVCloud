\begin{quote}
\href{http://en.wikipedia.org/wiki/URL_normalization}{\tt Normalize} a \mbox{\hyperlink{namespace_u_r_l}{U\+RL}} \end{quote}


Useful when you need to display, store, deduplicate, sort, compare, etc, U\+R\+Ls.

\subsection*{Install}


\begin{DoxyCode}
$ npm install --save normalize-url
\end{DoxyCode}


\subsection*{Usage}


\begin{DoxyCode}
const normalizeUrl = require('normalize-url');

normalizeUrl('sindresorhus.com');
//=> 'http://sindresorhus.com'

normalizeUrl('HTTP://xn--xample-hva.com:80/?b=bar&a=foo');
//=> 'http://êxample.com/?a=foo&b=bar'
\end{DoxyCode}


\subsection*{A\+PI}

\subsubsection*{normalize\+Url(url, \mbox{[}options\mbox{]})}

\paragraph*{url}

Type\+: {\ttfamily string}

\mbox{\hyperlink{namespace_u_r_l}{U\+RL}} to normalize.

\paragraph*{options}

\subparagraph*{normalize\+Protocol}

Type\+: {\ttfamily boolean}~\newline
 Default\+: {\ttfamily true}

Prepend {\ttfamily http\+:} to the \mbox{\hyperlink{namespace_u_r_l}{U\+RL}} if it\textquotesingle{}s protocol-\/relative.


\begin{DoxyCode}
normalizeUrl('//sindresorhus.com:80/');
//=> 'http://sindresorhus.com'

normalizeUrl('//sindresorhus.com:80/', \{normalizeProtocol: false\});
//=> '//sindresorhus.com'
\end{DoxyCode}


\subparagraph*{normalize\+Https}

Type\+: {\ttfamily boolean}~\newline
 Default\+: {\ttfamily false}

Normalize {\ttfamily https\+:} U\+R\+Ls to {\ttfamily http\+:}.


\begin{DoxyCode}
normalizeUrl('https://sindresorhus.com:80/');
//=> 'https://sindresorhus.com'

normalizeUrl('https://sindresorhus.com:80/', \{normalizeHttps: true\});
//=> 'http://sindresorhus.com'
\end{DoxyCode}


\subparagraph*{strip\+Fragment}

Type\+: {\ttfamily boolean}~\newline
 Default\+: {\ttfamily true}

Remove the fragment at the end of the \mbox{\hyperlink{namespace_u_r_l}{U\+RL}}.


\begin{DoxyCode}
normalizeUrl('sindresorhus.com/about.html#contact');
//=> 'http://sindresorhus.com/about.html'

normalizeUrl('sindresorhus.com/about.html#contact', \{stripFragment: false\});
//=> 'http://sindresorhus.com/about.html#contact'
\end{DoxyCode}


\subparagraph*{strip\+W\+WW}

Type\+: {\ttfamily boolean}~\newline
 Default\+: {\ttfamily true}

Remove {\ttfamily www.} from the \mbox{\hyperlink{namespace_u_r_l}{U\+RL}}.


\begin{DoxyCode}
normalizeUrl('http://www.sindresorhus.com/about.html#contact');
//=> 'http://sindresorhus.com/about.html#contact'

normalizeUrl('http://www.sindresorhus.com/about.html#contact', \{stripWWW: false\});
//=> 'http://www.sindresorhus.com/about.html#contact'
\end{DoxyCode}


\subparagraph*{remove\+Query\+Parameters}

Type\+: {\ttfamily Array$<$Reg\+Exp$\vert$string$>$}~\newline
 Default\+: {\ttfamily \mbox{[}/$^\wedge$utm\+\_\+\textbackslash{}w+/i\mbox{]}}

Remove query parameters that matches any of the provided strings or regexes.


\begin{DoxyCode}
normalizeUrl('www.sindresorhus.com?foo=bar&ref=test\_ref', \{
    removeQueryParameters: ['ref']
\});
//=> 'http://sindresorhus.com/?foo=bar'
\end{DoxyCode}


\subparagraph*{remove\+Trailing\+Slash}

Type\+: {\ttfamily boolean}~\newline
 Default\+: {\ttfamily true}

Remove trailing slash.

{\bfseries Note\+:} Trailing slash is always removed if the \mbox{\hyperlink{namespace_u_r_l}{U\+RL}} doesn\textquotesingle{}t have a pathname.


\begin{DoxyCode}
normalizeUrl('http://sindresorhus.com/redirect/');
//=> 'http://sindresorhus.com/redirect'

normalizeUrl('http://sindresorhus.com/redirect/', \{removeTrailingSlash: false\});
//=> 'http://sindresorhus.com/redirect/'

normalizeUrl('http://sindresorhus.com/', \{removeTrailingSlash: false\});
//=> 'http://sindresorhus.com'
\end{DoxyCode}


\subparagraph*{remove\+Directory\+Index}

Type\+: {\ttfamily boolean} {\ttfamily Array$<$Reg\+Exp$\vert$string$>$}~\newline
 Default\+: {\ttfamily false}

Remove the default directory index file from path that matches any of the provided strings or regexes. When {\ttfamily true}, the regex {\ttfamily /$^\wedge$index\textbackslash{}.\mbox{[}a-\/z\mbox{]}+\$/} is used.


\begin{DoxyCode}
normalizeUrl('www.sindresorhus.com/foo/default.php', \{
    removeDirectoryIndex: [/^default\(\backslash\).[a-z]+$/]
\});
//=> 'http://sindresorhus.com/foo'
\end{DoxyCode}


\subsection*{Related}


\begin{DoxyItemize}
\item \href{https://github.com/sindresorhus/compare-urls}{\tt compare-\/urls} -\/ Compare U\+R\+Ls by first normalizing them
\end{DoxyItemize}

\subsection*{License}

M\+IT © \href{https://sindresorhus.com}{\tt Sindre Sorhus} 