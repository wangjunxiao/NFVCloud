\begin{quote}
Detect the indentation of code \end{quote}


Pass in a string of any kind of text and get the indentation.

\subsection*{Use cases}


\begin{DoxyItemize}
\item Persisting the indentation when modifying a file.
\item Have new content match the existing indentation.
\item Setting the right indentation in your editor.
\end{DoxyItemize}

\subsection*{Install}


\begin{DoxyCode}
$ npm install --save detect-indent
\end{DoxyCode}


\subsection*{Usage}

Here we modify a J\+S\+ON file while persisting the indentation\+:


\begin{DoxyCode}
var fs = require('fs');
var detectIndent = require('detect-indent');

/*
\{
    "ilove": "pizza"
\}
*/
var file = fs.readFileSync('foo.json', 'utf8');

// tries to detect the indentation and falls back to a default if it can't
var indent = detectIndent(file).indent || '    ';

var json = JSON.parse(file);

json.ilove = 'unicorns';

fs.writeFileSync('foo.json', JSON.stringify(json, null, indent));
/*
\{
    "ilove": "unicorns"
\}
*/
\end{DoxyCode}


\subsection*{A\+PI}

Accepts a string and returns an object with stats about the indentation\+: ~\newline

\begin{DoxyItemize}
\item {\ttfamily amount} \{number\} -\/ Amount of indentation, e.\+g. {\ttfamily 2} ~\newline
$\ast$ {\ttfamily type} \{string$\vert$null\} -\/ Type of indentation. Possible values are {\ttfamily tab}, {\ttfamily space} or {\ttfamily null} if no indentation is detected ~\newline
$\ast$ {\ttfamily indent} \{string\} -\/ Actual indentation
\end{DoxyItemize}

\subsection*{Algorithm}

The current algorithm looks for the most common difference between two consecutive non-\/empty lines.

In the following example, even if the 4-\/space indentation is used 3 times whereas the 2-\/space one is used 2 times, it is detected as less used because there were only 2 differences with this value instead of 4 for the 2-\/space indentation\+:


\begin{DoxyCode}
html \{
  box-sizing: border-box;
\}

body \{
  background: gray;
\}

p \{
    line-height: 1.3em;
    margin-top: 1em;
    text-indent: 2em;
\}
\end{DoxyCode}


\href{https://medium.com/@heatherarthur/detecting-code-indentation-eff3ed0fb56b#3918}{\tt Source.}

Furthermore, if there are more than one most used difference, the indentation with the most lines is selected.

In the following example, the indentation is detected as 4-\/spaces\+:


\begin{DoxyCode}
body \{
  background: gray;
\}

p \{
    line-height: 1.3em;
    margin-top: 1em;
    text-indent: 2em;
\}
\end{DoxyCode}


\subsection*{Related}


\begin{DoxyItemize}
\item \href{https://github.com/sindresorhus/detect-indent-cli}{\tt detect-\/indent-\/cli} -\/ C\+LI for this module
\end{DoxyItemize}

\subsection*{License}

M\+IT Â© \href{http://sindresorhus.com}{\tt Sindre Sorhus} 