\href{https://nodei.co/npm/exec-sh/}{\tt }

\href{https://travis-ci.org/tsertkov/exec-sh}{\tt } \href{https://coveralls.io/r/tsertkov/exec-sh?branch=master}{\tt } \href{https://david-dm.org/tsertkov/exec-sh}{\tt }

\begin{quote}
Execute shell command forwarding all stdio streams. \end{quote}


\subsection*{Features}

exec-\/sh is a wrapper for \href{http://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options}{\tt {\ttfamily child\+\_\+process.\+spawn}} with some improvements\+:


\begin{DoxyItemize}
\item Cross platform command execution\+:
\begin{DoxyItemize}
\item Windows\+: {\ttfamily cmd /C C\+O\+M\+M\+A\+ND}
\item others\+: {\ttfamily sh -\/c C\+O\+M\+M\+A\+ND}
\end{DoxyItemize}
\item Fowrards all stdio streams to current terminal (by default)\+:
\begin{DoxyItemize}
\item {\ttfamily exec\+Sh(\char`\"{}bash\char`\"{})}
\item {\ttfamily execsh(\char`\"{}echo -\/n Say\+: \&\& read i \&\& echo Said\+:\$i\char`\"{})}
\end{DoxyItemize}
\item stdout and stderr are passed to callback when available
\begin{DoxyItemize}
\item {\ttfamily exec\+Sh(\char`\"{}pwd\char`\"{}, console.\+log)}
\end{DoxyItemize}
\end{DoxyItemize}

\#\# Showcase 
\begin{DoxyCode}
// JavaScript

execSh("echo hello exec-sh && bash", \{ cwd: "/home" \}, function(err)\{
  if (err) \{
    console.log("Exit code: ", err.code);
  \}
\});
\end{DoxyCode}



\begin{DoxyCode}
# Terminal output: interactive bash session

hello exec-sh
bash-3.2$ pwd
/home
bash-3.2$ exit 99
exit
Exit code:  99
\end{DoxyCode}


\subsection*{Usage}


\begin{DoxyCode}
var execSh = require("../");

// run interactive bash shell
execSh("echo lorem && bash", \{ cwd: "/home" \}, function(err)\{
  if (err) \{
    console.log("Exit code: ", err.code);
    return;
  \}

  // collect streams output
  var child = execSh(["bash -c id", "echo lorem >&2"], true,
    function(err, stdout, stderr)\{
      console.log("error: ", err);
      console.log("stdout: ", stdout);
      console.log("stderr: ", stderr);
    \});
\});
\end{DoxyCode}


\subsection*{Public A\+PI}

\subsubsection*{exec\+Sh(command, \mbox{[}options\mbox{]}, \mbox{[}callback\mbox{]})}

Execute shell command forwarding all stdio.

{\bfseries Parameters\+:}


\begin{DoxyItemize}
\item {\itshape command} \{String $\vert$ Array\} -\/ The command to run, or array of commands
\item {\itshape \mbox{[}options\mbox{]}} \{Object $\vert$ T\+R\+UE\} -\/ Options object passed directly to \href{http://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options}{\tt {\ttfamily child\+\_\+process.\+spawn}}, when {\ttfamily T\+R\+UE} then {\ttfamily \{ stdio\+: null \}} used
\item {\itshape \mbox{[}callback\mbox{]}} \{Function\} -\/ {\ttfamily callback(err, stdout, stderr)}
\begin{DoxyItemize}
\item {\itshape err} \{Error $\vert$ N\+U\+LL\} -\/ Error object. Has {\ttfamily code} property containing last command exit code when available
\item {\itshape stdout} \{String $\vert$ N\+U\+LL\} -\/ aggregated stdout or {\ttfamily N\+U\+LL} if not available
\item {\itshape stderr} \{String $\vert$ N\+U\+LL\} -\/ aggregated stderr or {\ttfamily N\+U\+LL} if not available
\end{DoxyItemize}
\end{DoxyItemize}

{\bfseries Return Values\+:}

Returns \href{http://nodejs.org/api/child_process.html#child_process_class_childprocess}{\tt Child\+Process} object.

\subsection*{Private A\+PI}

Complete A\+PI Documentation including private and public methods is generated from source code by J\+S\+Doc tool and is \href{https://s3.eu-central-1.amazonaws.com/tsertkov-artifacts/exec-sh/master/jsdoc/index.html}{\tt available here}.

\subsection*{Code Coverage}

Code coverage report for all files is \href{https://s3.eu-central-1.amazonaws.com/tsertkov-artifacts/exec-sh/master/coverage/lcov-report/index.html}{\tt available here}.

\subsection*{Scripts}


\begin{DoxyItemize}
\item {\ttfamily npm test} -\/ run tests
\item {\ttfamily npm run jsdoc} -\/ build jsdoc
\end{DoxyItemize}

\subsection*{License}

The M\+IT License (M\+IT) 