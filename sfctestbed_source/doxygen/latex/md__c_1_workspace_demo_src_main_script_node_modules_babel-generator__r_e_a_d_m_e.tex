\begin{quote}
Turns an A\+ST into code. \end{quote}


\subsection*{Install}


\begin{DoxyCode}
npm install --save-dev babel-generator
\end{DoxyCode}


\subsection*{Usage}


\begin{DoxyCode}
import \{parse\} from 'babylon';
import generate from 'babel-generator';

const code = 'class Example \{\}';
const ast = parse(code);

const output = generate(ast, \{ /* options */ \}, code);
\end{DoxyCode}


\subsection*{Options}

Options for formatting output\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ name  }&\textbf{ type  }&\textbf{ default  }&\textbf{ description -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---   }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ name  }&\textbf{ type  }&\textbf{ default  }&\textbf{ description -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---   }\\\cline{1-4}
\endhead
auxiliary\+Comment\+Before  &string  &&Optional string to add as a block comment at the start of the output file   \\\cline{1-4}
auxiliary\+Comment\+After  &string  &&Optional string to add as a block comment at the end of the output file   \\\cline{1-4}
should\+Print\+Comment  &function  &{\ttfamily opts.\+comments}  &Function that takes a comment (as a string) and returns {\ttfamily true} if the comment should be included in the output. By default, comments are included if {\ttfamily opts.\+comments} is {\ttfamily true} or if {\ttfamily opts.\+minifed} is {\ttfamily false} and the comment contains {\ttfamily @preserve} or {\ttfamily @license}   \\\cline{1-4}
retain\+Lines  &boolean  &{\ttfamily false}  &Attempt to use the same line numbers in the output code as in the source code (helps preserve stack traces)   \\\cline{1-4}
retain\+Function\+Parens  &boolean  &{\ttfamily false}  &Retain parens around function expressions (could be used to change engine parsing behavior)   \\\cline{1-4}
comments  &boolean  &{\ttfamily true}  &Should comments be included in output   \\\cline{1-4}
compact  &boolean or `\textquotesingle{}auto'{\ttfamily $<$/td$>$ $<$td class=\char`\"{}markdown\+Table\+Body\+None\char`\"{}$>$}opts.\+minified$<$tt$>$$<$/td$>$ $<$td class=\char`\"{}markdown\+Table\+Body\+None\char`\"{}$>$ Set totrue\`{} to avoid adding whitespace for formatting   \\\cline{1-4}
minified  &boolean  &{\ttfamily false}  &Should the output be minified   \\\cline{1-4}
concise  &boolean  &{\ttfamily false}  &Set to {\ttfamily true} to reduce whitespace (but not as much as {\ttfamily opts.\+compact})   \\\cline{1-4}
quotes  &`\textquotesingle{}single'{\ttfamily or}\textquotesingle{}double\textquotesingle{}{\ttfamily $<$/td$>$ $<$td class=\char`\"{}markdown\+Table\+Body\+None\char`\"{}$>$ autodetect based on}ast.\+tokens\`{}  &The type of quote to use in the output   \\\cline{1-4}
filename  &string  &&Used in warning messages   \\\cline{1-4}
flow\+Comma\+Separator  &boolean  &{\ttfamily false}  &Set to {\ttfamily true} to use commas instead of semicolons as Flow property separators   \\\cline{1-4}
json\+Compatible\+Strings  &boolean  &{\ttfamily false}  &Set to true to run {\ttfamily jsesc} with \char`\"{}json\char`\"{}\+: true to print \char`\"{}\textbackslash{}u00\+A9\char`\"{} vs. \char`\"{}Â©\char`\"{};   \\\cline{1-4}
\end{longtabu}


Options for source maps\+:

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ name  }&\textbf{ type  }&\textbf{ default  }&\textbf{ description -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---   }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ name  }&\textbf{ type  }&\textbf{ default  }&\textbf{ description -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---   }\\\cline{1-4}
\endhead
source\+Maps  &boolean  &{\ttfamily false}  &Enable generating source maps   \\\cline{1-4}
source\+Map\+Target  &string  &&The filename of the generated code that the source map will be associated with   \\\cline{1-4}
source\+Root  &string  &&A root for all relative U\+R\+Ls in the source map   \\\cline{1-4}
source\+File\+Name  &string  &&The filename for the source code (i.\+e. the code in the {\ttfamily code} argument). This will only be used if {\ttfamily code} is a string.   \\\cline{1-4}
\end{longtabu}


\subsection*{A\+ST from Multiple Sources}

In most cases, Babel does a 1\+:1 transformation of input-\/file to output-\/file. However, you may be dealing with A\+ST constructed from multiple sources -\/ JS files, templates, etc. If this is the case, and you want the sourcemaps to reflect the correct sources, you\textquotesingle{}ll need to make some changes to your code.

First, each node with a {\ttfamily loc} property (which indicates that node\textquotesingle{}s original placement in the source document) must also include a {\ttfamily loc.\+filename} property, set to the source filename.

Second, you should pass an object to {\ttfamily generate} as the {\ttfamily code} parameter. Keys should be the source filenames, and values should be the source content.

Here\textquotesingle{}s an example of what that might look like\+:


\begin{DoxyCode}
import \{parse\} from 'babylon';
import generate from 'babel-generator';

const a = 'var a = 1;';
const b = 'var b = 2;';
const astA = parse(a, \{ filename: 'a.js' \});
const astB = parse(b, \{ filename: 'b.js' \});
const ast = \{
  type: 'Program',
  body: [].concat(astA.body, ast2.body)
\};

const \{ code, map \} = generate(ast, \{ /* options */ \}, \{
  'a.js': a,
  'b.js': b
\});

// Sourcemap will point to both a.js and b.js where appropriate.
\end{DoxyCode}
 