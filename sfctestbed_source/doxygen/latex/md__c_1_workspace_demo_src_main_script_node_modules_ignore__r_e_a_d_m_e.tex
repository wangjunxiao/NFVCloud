\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{0}{|X[-1]}|}
\hline
\end{longtabu}


Linux 

OS X 

Windows 

Coverage 

Downloads  $<$/thead$>$$<$tbody$>$

\href{https://travis-ci.org/kaelzhang/node-ignore}{\tt }  

\href{https://ci.appveyor.com/project/kaelzhang/node-ignore}{\tt }  

\href{https://codecov.io/gh/kaelzhang/node-ignore}{\tt }  

\href{https://www.npmjs.org/package/ignore}{\tt }  $<$/tbody$>$

\section*{ignore}

{\ttfamily ignore} is a manager, filter and parser which implemented in pure Java\+Script according to the .gitignore \href{http://git-scm.com/docs/gitignore}{\tt spec}.

Pay attention that \href{https://www.npmjs.org/package/minimatch}{\tt {\ttfamily minimatch}} does not work in the gitignore way. To filter filenames according to .gitignore file, I recommend this module.

\subparagraph*{Tested on}


\begin{DoxyItemize}
\item Linux + Node\+: {\ttfamily 0.\+8} -\/ {\ttfamily 7.\+x}
\item Windows + Node\+: {\ttfamily 0.\+10} -\/ {\ttfamily 7.\+x}, node $<$ {\ttfamily 0.\+10} is not tested due to the lack of support of appveyor.
\end{DoxyItemize}

Actually, {\ttfamily ignore} does not rely on any versions of node specially.

\subsection*{Table Of Main Contents}


\begin{DoxyItemize}
\item \href{#usage}{\tt Usage}
\item \href{#upgrade-2x---3x}{\tt Guide for 2.\+x -\/$>$ 3.\+x}
\item \href{#contributing}{\tt Contributing}
\item \href{#related}{\tt Related Packages}
\end{DoxyItemize}

\subsection*{Usage}


\begin{DoxyCode}
const ignore = require('ignore')
const ig = ignore().add(['.abc/*', '!.abc/d/'])
\end{DoxyCode}


\subsubsection*{Filter the given paths}


\begin{DoxyCode}
const paths = [
  '.abc/a.js',    // filtered out
  '.abc/d/e.js'   // included
]

ig.filter(paths)        // ['.abc/d/e.js']
ig.ignores('.abc/a.js') // true
\end{DoxyCode}


\subsubsection*{As the filter function}


\begin{DoxyCode}
paths.filter(ig.createFilter()); // ['.abc/d/e.js']
\end{DoxyCode}


\subsubsection*{Win32 paths will be handled}


\begin{DoxyCode}
ig.filter(['.abc\(\backslash\)\(\backslash\)a.js', '.abc\(\backslash\)\(\backslash\)d\(\backslash\)\(\backslash\)e.js'])
// if the code above runs on windows, the result will be
// ['.abc\(\backslash\)\(\backslash\)d\(\backslash\)\(\backslash\)e.js']
\end{DoxyCode}


\subsection*{Why another ignore?}


\begin{DoxyItemize}
\item {\ttfamily ignore} is a standalone module, and is much simpler so that it could easy work with other programs, unlike \href{https://npmjs.org/~isaacs}{\tt isaacs}\textquotesingle{}s \href{https://npmjs.org/package/fstream-ignore}{\tt fstream-\/ignore} which must work with the modules of the fstream family.
\item {\ttfamily ignore} only contains utility methods to filter paths according to the specified ignore rules, so
\begin{DoxyItemize}
\item {\ttfamily ignore} never try to find out ignore rules by traversing directories or fetching from git configurations.
\item {\ttfamily ignore} don\textquotesingle{}t cares about sub-\/modules of git projects.
\end{DoxyItemize}
\item Exactly according to \href{http://git-scm.com/docs/gitignore}{\tt gitignore man page}, fixes some known matching issues of fstream-\/ignore, such as\+:
\begin{DoxyItemize}
\item \textquotesingle{}{\ttfamily /$\ast$.js}\textquotesingle{} should only match \textquotesingle{}{\ttfamily a.\+js}\textquotesingle{}, but not \textquotesingle{}{\ttfamily abc/a.\+js}\textquotesingle{}.
\item \textquotesingle{}{\ttfamily $\ast$$\ast$/foo}\textquotesingle{} should match \textquotesingle{}{\ttfamily foo}\textquotesingle{} anywhere.
\item Prevent re-\/including a file if a parent directory of that file is excluded.
\item Handle trailing whitespaces\+:
\begin{DoxyItemize}
\item `\textquotesingle{}a '{\ttfamily (one space) should not match}\textquotesingle{}a \textquotesingle{}{\ttfamily (two spaces). -\/}\textquotesingle{}a \textbackslash{} \textquotesingle{}{\ttfamily matches}\textquotesingle{}a \textquotesingle{}\`{}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Methods}

\subsubsection*{.add(pattern)}

\subsubsection*{.add(patterns)}


\begin{DoxyItemize}
\item pattern {\ttfamily String$\vert$\+Ignore} An ignore pattern string, or the {\ttfamily Ignore} instance
\item patterns {\ttfamily Array.$<$pattern$>$} Array of ignore patterns.
\end{DoxyItemize}

Adds a rule or several rules to the current manager.

Returns {\ttfamily this}

Notice that a line starting with `'\#\textquotesingle{}{\ttfamily (hash) is treated as a comment. Put a backslash (}\textquotesingle{}\textbackslash{}\textquotesingle{}\`{}) in front of the first hash for patterns that begin with a hash, if you want to ignore a file with a hash at the beginning of the filename.


\begin{DoxyCode}
ignore().add('#abc').ignores('#abc')    // false
ignore().add('\(\backslash\)#abc').ignores('#abc')   // true
\end{DoxyCode}


{\ttfamily pattern} could either be a line of ignore pattern or a string of multiple ignore patterns, which means we could just {\ttfamily ignore().add()} the content of a ignore file\+:


\begin{DoxyCode}
ignore()
.add(fs.readFileSync(filenameOfGitignore).toString())
.filter(filenames)
\end{DoxyCode}


{\ttfamily pattern} could also be an {\ttfamily ignore} instance, so that we could easily inherit the rules of another {\ttfamily Ignore} instance.

\subsubsection*{.add\+Ignore\+File(path)}

R\+E\+M\+O\+V\+ED in {\ttfamily 3.\+x} for now.

To upgrade {\ttfamily ignore@2.\+x} up to {\ttfamily 3.\+x}, use


\begin{DoxyCode}
const fs = require('fs')

if (fs.existsSync(filename)) \{
  ignore().add(fs.readFileSync(filename).toString())
\}
\end{DoxyCode}


instead.

\subsubsection*{.filter(paths)}

Filters the given array of pathnames, and returns the filtered array.


\begin{DoxyItemize}
\item paths {\ttfamily Array.$<$path$>$} The array of paths to be filtered.
\end{DoxyItemize}

{\itshape N\+O\+T\+I\+CE} that each {\ttfamily path} here should be a relative path to the root of your repository. Suppose the dir structure is\+:


\begin{DoxyCode}
/path/to/your/repo
    |-- a
    |   |-- a.js
    |
    |-- .b
    |
    |-- .c
         |-- .DS\_store
\end{DoxyCode}


Then the {\ttfamily paths} might be like this\+:


\begin{DoxyCode}
[
  'a/a.js'
  '.b',
  '.c/.DS\_store'
]
\end{DoxyCode}


Usually, you could use \href{http://npmjs.org/package/glob}{\tt {\ttfamily glob}} with {\ttfamily option.\+mark = true} to fetch the structure of the current directory\+:


\begin{DoxyCode}
const glob = require('glob')

glob('**', \{
  // Adds a / character to directory matches.
  mark: true
\}, (err, files) => \{
  if (err) \{
    return console.error(err)
  \}

  let filtered = ignore().add(patterns).filter(files)
  console.log(filtered)
\})
\end{DoxyCode}


\subsubsection*{.create\+Filter()}

Creates a filter function which could filter an array of paths with {\ttfamily Array.\+prototype.\+filter}.

Returns {\ttfamily function(path)} the filter function.

\subsubsection*{.ignores(pathname)}

\begin{quote}
new in 3.\+2.\+0 \end{quote}


Returns {\ttfamily Boolean} whether {\ttfamily pathname} should be ignored.


\begin{DoxyCode}
ig.ignores('.abc/a.js')    // true
\end{DoxyCode}






\subsection*{Upgrade 2.\+x -\/$>$ 3.\+x}


\begin{DoxyItemize}
\item All {\ttfamily options} of 2.\+x are unnecessary and removed, so just remove them.
\item {\ttfamily ignore()} instance is no longer an \href{nodejs.org/api/events.html}{\tt {\ttfamily Event\+Emitter}}, and all events are unnecessary and removed.
\item {\ttfamily .add\+Ignore\+File()} is removed, see the \href{#addignorefilepath}{\tt .add\+Ignore\+File} section for details.
\end{DoxyItemize}





\subsection*{Contributing}

The code of {\ttfamily node-\/ignore} is based on es6 and babel, but babel and its preset is not included in the {\ttfamily dependencies} field of package.\+json, so that the installation process of test cases will not fail in older versions of node.

So use {\ttfamily bash install.\+sh} to install dependencies and {\ttfamily bash test.\+sh} to run test cases in your local machine.

\paragraph*{Collaborators}


\begin{DoxyItemize}
\item \href{https://github.com/SamyPesse}{\tt Samy\+Pesse} {\itshape Samy Pess√©}
\item \href{https://github.com/azproduction}{\tt azproduction} {\itshape Mikhail Davydov}
\item \href{https://github.com/TrySound}{\tt Try\+Sound} {\itshape Bogdan Chadkin}
\item \href{https://github.com/JanMattner}{\tt Jan\+Mattner} {\itshape Jan Mattner}
\end{DoxyItemize}

\subsection*{Related}


\begin{DoxyItemize}
\item \href{https://www.npmjs.com/package/glob-gitignore}{\tt {\ttfamily glob-\/gitignore}} matches files using patterns and filters them according to gitignore rules. 
\end{DoxyItemize}