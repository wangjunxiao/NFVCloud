Estraverse (\href{http://github.com/estools/estraverse}{\tt estraverse}) is \href{http://www.ecma-international.org/publications/standards/Ecma-262.htm}{\tt E\+C\+M\+A\+Script} traversal functions from \href{http://github.com/estools/esmangle}{\tt esmangle project}.

\subsubsection*{Documentation}

You can find usage docs at \href{https://github.com/estools/estraverse/wiki/Usage}{\tt wiki page}.

\subsubsection*{Example Usage}

The following code will output all variables declared at the root of a file.


\begin{DoxyCode}
estraverse.traverse(ast, \{
    enter: function (node, parent) \{
        if (node.type == 'FunctionExpression' || node.type == 'FunctionDeclaration')
            return estraverse.VisitorOption.Skip;
    \},
    leave: function (node, parent) \{
        if (node.type == 'VariableDeclarator')
          console.log(node.id.name);
    \}
\});
\end{DoxyCode}


We can use {\ttfamily this.\+skip}, {\ttfamily this.\+remove} and {\ttfamily this.\+break} functions instead of using Skip, Remove and Break.


\begin{DoxyCode}
estraverse.traverse(ast, \{
    enter: function (node) \{
        this.break();
    \}
\});
\end{DoxyCode}


And estraverse provides {\ttfamily estraverse.\+replace} function. When returning node from {\ttfamily enter}/{\ttfamily leave}, current node is replaced with it.


\begin{DoxyCode}
result = estraverse.replace(tree, \{
    enter: function (node) \{
        // Replace it with replaced.
        if (node.type === 'Literal')
            return replaced;
    \}
\});
\end{DoxyCode}


By passing {\ttfamily visitor.\+keys} mapping, we can extend estraverse traversing functionality.


\begin{DoxyCode}
// This tree contains a user-defined `TestExpression` node.
var tree = \{
    type: 'TestExpression',

    // This 'argument' is the property containing the other **node**.
    argument: \{
        type: 'Literal',
        value: 20
    \},

    // This 'extended' is the property not containing the other **node**.
    extended: true
\};
estraverse.traverse(tree, \{
    enter: function (node) \{ \},

    // Extending the exising traversing rules.
    keys: \{
        // TargetNodeName: [ 'keys', 'containing', 'the', 'other', '**node**' ]
        TestExpression: ['argument']
    \}
\});
\end{DoxyCode}


By passing {\ttfamily visitor.\+fallback} option, we can control the behavior when encountering unknown nodes. 
\begin{DoxyCode}
// This tree contains a user-defined `TestExpression` node.
var tree = \{
    type: 'TestExpression',

    // This 'argument' is the property containing the other **node**.
    argument: \{
        type: 'Literal',
        value: 20
    \},

    // This 'extended' is the property not containing the other **node**.
    extended: true
\};
estraverse.traverse(tree, \{
    enter: function (node) \{ \},

    // Iterating the child **nodes** of unknown nodes.
    fallback: 'iteration'
\});
\end{DoxyCode}


\subsubsection*{License}

Copyright (C) 2012-\/2013 \href{http://github.com/Constellation}{\tt Yusuke Suzuki} (twitter\+: \href{http://twitter.com/Constellation}{\tt }) and other contributors.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\+:


\begin{DoxyItemize}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\end{DoxyItemize}

T\+H\+IS S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED BY T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+E\+RS A\+ND C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS \char`\"{}\+A\+S I\+S\char`\"{} A\+ND A\+NY E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES, I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, T\+HE I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY A\+ND F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+RE D\+I\+S\+C\+L\+A\+I\+M\+ED. IN NO E\+V\+E\+NT S\+H\+A\+LL $<$\+C\+O\+P\+Y\+R\+I\+G\+H\+T holder$>$=\char`\"{}\char`\"{}$>$ BE L\+I\+A\+B\+LE F\+OR A\+NY D\+I\+R\+E\+CT, I\+N\+D\+I\+R\+E\+CT, I\+N\+C\+I\+D\+E\+N\+T\+AL, S\+P\+E\+C\+I\+AL, E\+X\+E\+M\+P\+L\+A\+RY, OR C\+O\+N\+S\+E\+Q\+U\+E\+N\+T\+I\+AL D\+A\+M\+A\+G\+ES (I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, P\+R\+O\+C\+U\+R\+E\+M\+E\+NT OF S\+U\+B\+S\+T\+I\+T\+U\+TE G\+O\+O\+DS OR S\+E\+R\+V\+I\+C\+ES; L\+O\+SS OF U\+SE, D\+A\+TA, OR P\+R\+O\+F\+I\+TS; OR B\+U\+S\+I\+N\+E\+SS I\+N\+T\+E\+R\+R\+U\+P\+T\+I\+ON) H\+O\+W\+E\+V\+ER C\+A\+U\+S\+ED A\+ND ON A\+NY T\+H\+E\+O\+RY OF L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN C\+O\+N\+T\+R\+A\+CT, S\+T\+R\+I\+CT L\+I\+A\+B\+I\+L\+I\+TY, OR T\+O\+RT (I\+N\+C\+L\+U\+D\+I\+NG N\+E\+G\+L\+I\+G\+E\+N\+CE OR O\+T\+H\+E\+R\+W\+I\+SE) A\+R\+I\+S\+I\+NG IN A\+NY W\+AY O\+UT OF T\+HE U\+SE OF T\+H\+IS S\+O\+F\+T\+W\+A\+RE, E\+V\+EN IF A\+D\+V\+I\+S\+ED OF T\+HE P\+O\+S\+S\+I\+B\+I\+L\+I\+TY OF S\+U\+CH D\+A\+M\+A\+GE. 