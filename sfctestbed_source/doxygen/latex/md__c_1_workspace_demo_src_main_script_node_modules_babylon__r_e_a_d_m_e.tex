 

Babylon is a Java\+Script parser used in \href{https://github.com/babel/babel}{\tt Babel}. 

\href{https://travis-ci.org/babel/babylon}{\tt } \href{https://codecov.io/gh/babel/babylon}{\tt } 


\begin{DoxyItemize}
\item The latest E\+C\+M\+A\+Script version enabled by default (E\+S2017).
\item Comment attachment.
\item Support for J\+SX and Flow.
\item Support for experimental language proposals (accepting P\+Rs for anything at least https\+://github.com/tc39/proposals/blob/master/stage-\/0-\/proposals.\+md \char`\"{}stage-\/0\char`\"{}).
\end{DoxyItemize}

\subsection*{Credits}

Heavily based on \href{https://github.com/marijnh/acorn}{\tt acorn} and \href{https://github.com/RReverser/acorn-jsx}{\tt acorn-\/jsx}, thanks to the awesome work of \href{https://github.com/RReverser}{\tt } and \href{https://github.com/marijnh}{\tt }.

Significant diversions are expected to occur in the future such as streaming, E\+B\+NF definitions, sweet.\+js integration, interspatial parsing and more.

\subsection*{A\+PI}

\subsubsection*{{\ttfamily babylon.\+parse(code, \mbox{[}options\mbox{]})}}

\subsubsection*{{\ttfamily babylon.\+parse\+Expression(code, \mbox{[}options\mbox{]})}}

{\ttfamily parse()} parses the provided {\ttfamily code} as an entire E\+C\+M\+A\+Script program, while {\ttfamily parse\+Expression()} tries to parse a single Expression with performance in mind. When in doubt, use {\ttfamily .parse()}.

\subsubsection*{Options}


\begin{DoxyItemize}
\item {\bfseries allow\+Import\+Export\+Everywhere}\+: By default, {\ttfamily import} and {\ttfamily export} declarations can only appear at a program\textquotesingle{}s top level. Setting this option to {\ttfamily true} allows them anywhere where a statement is allowed.
\item {\bfseries allow\+Return\+Outside\+Function}\+: By default, a return statement at the top level raises an error. Set this to {\ttfamily true} to accept such code.
\item {\bfseries allow\+Super\+Outside\+Method}\+: T\+O\+DO
\item {\bfseries source\+Type}\+: Indicate the mode the code should be parsed in. Can be either {\ttfamily \char`\"{}script\char`\"{}} or {\ttfamily \char`\"{}module\char`\"{}}.
\item {\bfseries source\+Filename}\+: Correlate output A\+ST nodes with their source filename. Useful when generating code and source maps from the A\+S\+Ts of multiple input files.
\item {\bfseries start\+Line}\+: By default, the first line of code parsed is treated as line 1. You can provide a line number to alternatively start with. Useful for integration with other source tools.
\item {\bfseries plugins}\+: Array containing the plugins that you want to enable.
\item {\bfseries strict\+Mode}\+: T\+O\+DO
\end{DoxyItemize}

\subsubsection*{Output}

Babylon generates A\+ST according to https\+://github.com/babel/babylon/blob/master/ast/spec.\+md \char`\"{}\+Babel A\+S\+T format\char`\"{}. It is based on \href{https://github.com/estree/estree}{\tt E\+S\+Tree spec} with the following deviations\+:

\begin{quote}
There is now an {\ttfamily estree} plugin which reverts these deviations \end{quote}



\begin{DoxyItemize}
\item \href{https://github.com/estree/estree/blob/master/es5.md#literal}{\tt Literal} token is replaced with \href{https://github.com/babel/babylon/blob/master/ast/spec.md#stringliteral}{\tt String\+Literal}, \href{https://github.com/babel/babylon/blob/master/ast/spec.md#numericliteral}{\tt Numeric\+Literal}, \href{https://github.com/babel/babylon/blob/master/ast/spec.md#booleanliteral}{\tt Boolean\+Literal}, \href{https://github.com/babel/babylon/blob/master/ast/spec.md#nullliteral}{\tt Null\+Literal}, \href{https://github.com/babel/babylon/blob/master/ast/spec.md#regexpliteral}{\tt Reg\+Exp\+Literal}
\item \href{https://github.com/estree/estree/blob/master/es5.md#property}{\tt Property} token is replaced with \href{https://github.com/babel/babylon/blob/master/ast/spec.md#objectproperty}{\tt Object\+Property} and \href{https://github.com/babel/babylon/blob/master/ast/spec.md#objectmethod}{\tt Object\+Method}
\item \href{https://github.com/estree/estree/blob/master/es2015.md#methoddefinition}{\tt Method\+Definition} is replaced with \href{https://github.com/babel/babylon/blob/master/ast/spec.md#classmethod}{\tt Class\+Method}
\item \href{https://github.com/babel/babylon/blob/master/ast/spec.md#programs}{\tt Program} and \href{https://github.com/babel/babylon/blob/master/ast/spec.md#blockstatement}{\tt Block\+Statement} contain additional {\ttfamily directives} field with \href{https://github.com/babel/babylon/blob/master/ast/spec.md#directive}{\tt Directive} and \href{https://github.com/babel/babylon/blob/master/ast/spec.md#directiveliteral}{\tt Directive\+Literal}
\item \href{https://github.com/babel/babylon/blob/master/ast/spec.md#classmethod}{\tt Class\+Method}, \href{https://github.com/babel/babylon/blob/master/ast/spec.md#objectproperty}{\tt Object\+Property}, and \href{https://github.com/babel/babylon/blob/master/ast/spec.md#objectmethod}{\tt Object\+Method} value property\textquotesingle{}s properties in \href{https://github.com/babel/babylon/blob/master/ast/spec.md#functionexpression}{\tt Function\+Expression} is coerced/brought into the main method node.
\end{DoxyItemize}

A\+ST for J\+SX code is based on https\+://github.com/facebook/jsx/blob/master/\+A\+S\+T.\+md \char`\"{}\+Facebook J\+S\+X A\+S\+T\char`\"{} with the addition of one node type\+:


\begin{DoxyItemize}
\item {\ttfamily J\+S\+X\+Text}
\end{DoxyItemize}

\subsubsection*{Semver}

Babylon follows semver in most situations. The only thing to note is that some spec-\/compliancy bug fixes may be released under patch versions.

For example\+: We push a fix to early error on something like \href{https://github.com/babel/babylon/pull/107}{\tt \#107} -\/ multiple default exports per file. That would be considered a bug fix even though it would cause a build to fail.

\subsubsection*{Example}


\begin{DoxyCode}
require("babylon").parse("code", \{
  // parse in strict mode and allow module declarations
  sourceType: "module",

  plugins: [
    // enable jsx and flow syntax
    "jsx",
    "flow"
  ]
\});
\end{DoxyCode}


\subsubsection*{Plugins}


\begin{DoxyItemize}
\item {\ttfamily estree}
\item {\ttfamily jsx}
\item {\ttfamily flow}
\item {\ttfamily do\+Expressions}
\item {\ttfamily object\+Rest\+Spread}
\item {\ttfamily decorators} (Based on an outdated version of the Decorators proposal. Will be removed in a future version of {\ttfamily Babylon})
\item {\ttfamily class\+Properties}
\item {\ttfamily export\+Extensions}
\item {\ttfamily async\+Generators}
\item {\ttfamily function\+Bind}
\item {\ttfamily function\+Sent}
\item {\ttfamily dynamic\+Import}
\item {\ttfamily template\+Invalid\+Escapes} 
\end{DoxyItemize}