\href{http://badge.fury.io/js/inquirer}{\tt } \href{http://travis-ci.org/SBoudrias/Inquirer.js}{\tt } \href{https://david-dm.org/SBoudrias/Inquirer.js}{\tt }

A collection of common interactive command line user interfaces.

\subsection*{Goal and Philosophy}



$\ast$$\ast${\ttfamily Inquirer.\+js}$\ast$$\ast$ strives to be an easily embeddable and beautiful command line interface for \href{https://nodejs.org/}{\tt Node.\+js} (and perhaps the \char`\"{}\+C\+L\+I \mbox{[}\+Xanadu\mbox{]}(https\+://en.\+wikipedia.\+org/wiki/\+Xanadu\+\_\+(\+Citizen\+\_\+\+Kane))\char`\"{}).

$\ast$$\ast${\ttfamily Inquirer.\+js}$\ast$$\ast$ should ease the process of
\begin{DoxyItemize}
\item providing {\itshape error feedback}
\item {\itshape asking questions}
\item {\itshape parsing} input
\item {\itshape validating} answers
\item managing {\itshape hierarchical prompts}
\end{DoxyItemize}

\begin{quote}
{\bfseries Note\+:} $\ast$$\ast${\ttfamily Inquirer.\+js}$\ast$$\ast$ provides the user interface, and the inquiry session flow. If you\textquotesingle{}re searching for a full blown command line program utility, then check out \href{https://github.com/visionmedia/commander.js}{\tt Commander.\+js} or \href{https://github.com/dthree/vorpal}{\tt Vorpal.\+js}. \end{quote}


\subsection*{Documentation}

\subsubsection*{Installation}


\begin{DoxyCode}
npm install inquirer
\end{DoxyCode}



\begin{DoxyCode}
var inquirer = require("inquirer");
inquirer.prompt([/* Pass your questions in here */], function( answers ) \{
    // Use user feedback for... whatever!!
\});
\end{DoxyCode}


\subsubsection*{Examples (Run it and see it)}

Checkout the {\ttfamily examples/} folder for code and interface examples.


\begin{DoxyCode}
node examples/pizza.js
node examples/checkbox.js
# etc...
\end{DoxyCode}


\subsubsection*{Methods}

{\ttfamily inquirer.\+prompt( questions, callback )}

Launch the prompt interface (inquiry session)


\begin{DoxyItemize}
\item {\bfseries questions} (Array) containing \href{#question}{\tt Question Object} (using the \href{#reactive-interface}{\tt reactive interface}, you can also pass a {\ttfamily Rx.\+Observable} instance)
\item {\bfseries callback} (Function) first parameter is the \href{#answers}{\tt Answers Object}
\end{DoxyItemize}

\subsubsection*{Objects}

\paragraph*{Question}

A question object is a {\ttfamily hash} containing question related values\+:


\begin{DoxyItemize}
\item {\bfseries type}\+: (String) Type of the prompt. Defaults\+: {\ttfamily input} -\/ Possible values\+: {\ttfamily input}, {\ttfamily confirm}, {\ttfamily list}, {\ttfamily rawlist}, {\ttfamily password}
\item {\bfseries name}\+: (String) The name to use when storing the answer in the answers hash.
\item {\bfseries message}\+: (String$\vert$\+Function) The question to print. If defined as a function, the first parameter will be the current inquirer session answers.
\item {\bfseries default}\+: (String$\vert$\+Number$\vert$\+Array$\vert$\+Function) Default value(s) to use if nothing is entered, or a function that returns the default value(s). If defined as a function, the first parameter will be the current inquirer session answers.
\item {\bfseries choices}\+: (Array$\vert$\+Function) Choices array or a function returning a choices array. If defined as a function, the first parameter will be the current inquirer session answers. Array values can be simple {\ttfamily strings}, or {\ttfamily objects} containing a {\ttfamily name} (to display in list), a {\ttfamily value} (to save in the answers hash) and a {\ttfamily short} (to display after selection) properties. The choices array can also contain \href{#separator}{\tt a {\ttfamily Separator}}.
\item {\bfseries validate}\+: (Function) Receive the user input and should return {\ttfamily true} if the value is valid, and an error message ({\ttfamily String}) otherwise. If {\ttfamily false} is returned, a default error message is provided.
\item {\bfseries filter}\+: (Function) Receive the user input and return the filtered value to be used inside the program. The value returned will be added to the {\itshape Answers} hash.
\item {\bfseries when}\+: (Function, Boolean) Receive the current user answers hash and should return {\ttfamily true} or {\ttfamily false} depending on whether or not this question should be asked. The value can also be a simple boolean.
\end{DoxyItemize}

{\ttfamily default}, {\ttfamily choices}(if defined as functions), {\ttfamily validate}, {\ttfamily filter} and {\ttfamily when} functions can be called asynchronously using {\ttfamily this.\+async()}. You just have to pass the value you\textquotesingle{}d normally return to the callback option.


\begin{DoxyCode}
\{
  validate: function(input) \{

    // Declare function as asynchronous, and save the done callback
    var done = this.async();

    // Do async stuff
    setTimeout(function() \{
      if (typeof input !== "number") \{
        // Pass the return value in the done callback
        done("You need to provide a number");
        return;
      \}
      // Pass the return value in the done callback
      done(true);
    \}, 3000);
  \}
\}
\end{DoxyCode}


\subsubsection*{Answers}

A key/value hash containing the client answers in each prompt.


\begin{DoxyItemize}
\item {\bfseries Key} The {\ttfamily name} property of the {\itshape question} object
\item {\bfseries Value} (Depends on the prompt)
\begin{DoxyItemize}
\item {\ttfamily confirm}\+: (Boolean)
\item {\ttfamily input} \+: User input (filtered if {\ttfamily filter} is defined) (String)
\item {\ttfamily rawlist}, {\ttfamily list} \+: Selected choice value (or name if no value specified) (String)
\end{DoxyItemize}
\end{DoxyItemize}

\subsubsection*{Separator}

A separator can be added to any {\ttfamily choices} array\+:


\begin{DoxyCode}
// In the question object
choices: [ "Choice A", new inquirer.Separator(), "choice B" ]

// Which'll be displayed this way
[?] What do you want to do?
 > Order a pizza
   Make a reservation
   --------
   Ask opening hours
   Talk to the receptionist
\end{DoxyCode}


The constructor takes a facultative {\ttfamily String} value that\textquotesingle{}ll be use as the separator. If omitted, the separator will be {\ttfamily -\/-\/-\/-\/-\/-\/-\/-\/}.

Separator instances have a property {\ttfamily type} equal to {\ttfamily separator}. This should allow tools fa√ßading Inquirer interface from detecting separator types in lists.

\subsection*{Prompts type }

\begin{quote}
{\bfseries Note\+:}\+: \+\_\+allowed options written inside square brackets ({\ttfamily \mbox{[}\mbox{]}}) are optional. Others are required.\+\_\+ \end{quote}


\paragraph*{List -\/ {\ttfamily \{ type\+: \char`\"{}list\char`\"{} \}}}

Take {\ttfamily type}, {\ttfamily name}, {\ttfamily message}, {\ttfamily choices}\mbox{[}, {\ttfamily default}, {\ttfamily filter}\mbox{]} properties. (Note that default must be the choice {\ttfamily index} in the array or a choice {\ttfamily value})

 



\paragraph*{Raw List -\/ {\ttfamily \{ type\+: \char`\"{}rawlist\char`\"{} \}}}

Take {\ttfamily type}, {\ttfamily name}, {\ttfamily message}, {\ttfamily choices}\mbox{[}, {\ttfamily default}, {\ttfamily filter}\mbox{]} properties. (Note that default must the choice {\ttfamily index} in the array)

 



\paragraph*{Expand -\/ {\ttfamily \{ type\+: \char`\"{}expand\char`\"{} \}}}

Take {\ttfamily type}, {\ttfamily name}, {\ttfamily message}, {\ttfamily choices}\mbox{[}, {\ttfamily default}, {\ttfamily filter}\mbox{]} properties. (Note that default must be the choice {\ttfamily index} in the array)

Note that the {\ttfamily choices} object will take an extra parameter called {\ttfamily key} for the {\ttfamily expand} prompt. This parameter must be a single (lowercased) character. The {\ttfamily h} option is added by the prompt and shouldn\textquotesingle{}t be defined by the user.

See {\ttfamily examples/expand.\+js} for a running example.

  



\paragraph*{Checkbox -\/ {\ttfamily \{ type\+: \char`\"{}checkbox\char`\"{} \}}}

Take {\ttfamily type}, {\ttfamily name}, {\ttfamily message}, {\ttfamily choices}\mbox{[}, {\ttfamily filter}, {\ttfamily validate}, {\ttfamily default}\mbox{]} properties. {\ttfamily default} is expected to be an Array of the checked choices value.

Choices marked as {\ttfamily \{ checked\+: true \}} will be checked by default.

Choices whose property {\ttfamily disabled} is truthy will be unselectable. If {\ttfamily disabled} is a string, then the string will be outputted next to the disabled choice, otherwise it\textquotesingle{}ll default to {\ttfamily \char`\"{}\+Disabled\char`\"{}}. The {\ttfamily disabled} property can also be a synchronous function receiving the current answers as argument and returning a boolean or a string.

 



\paragraph*{Confirm -\/ {\ttfamily \{ type\+: \char`\"{}confirm\char`\"{} \}}}

Take {\ttfamily type}, {\ttfamily name}, {\ttfamily message}\mbox{[}, {\ttfamily default}\mbox{]} properties. {\ttfamily default} is expected to be a boolean if used.

 



\paragraph*{Input -\/ {\ttfamily \{ type\+: \char`\"{}input\char`\"{} \}}}

Take {\ttfamily type}, {\ttfamily name}, {\ttfamily message}\mbox{[}, {\ttfamily default}, {\ttfamily filter}, {\ttfamily validate}\mbox{]} properties.

 



\paragraph*{Password -\/ {\ttfamily \{ type\+: \char`\"{}password\char`\"{} \}}}

Take {\ttfamily type}, {\ttfamily name}, {\ttfamily message}\mbox{[}, {\ttfamily default}, {\ttfamily filter}, {\ttfamily validate}\mbox{]} properties.



\subsection*{User Interfaces and layouts}

Along with the prompts, Inquirer offers some basic text UI.

\paragraph*{Bottom Bar -\/ {\ttfamily inquirer.\+ui.\+Bottom\+Bar}}

This UI present a fixed text at the bottom of a free text zone. This is useful to keep a message to the bottom of the screen while outputting command outputs on the higher section.


\begin{DoxyCode}
var ui = new inquirer.ui.BottomBar();

// pipe a Stream to the log zone
outputStream.pipe( ui.log );

// Or simply write output
ui.log.write("something just happened.");
ui.log.write("Almost over, standby!");

// During processing, update the bottom bar content to display a loader
// or output a progress bar, etc
ui.updateBottomBar("new bottom bar content");
\end{DoxyCode}


\paragraph*{Prompt -\/ {\ttfamily inquirer.\+ui.\+Prompt}}

This is UI layout used to run prompt. This layout is returned by {\ttfamily inquirer.\+prompt} and you should probably always use {\ttfamily inquirer.\+prompt} to interface with this UI.

\subsection*{Reactive interface}

Internally, Inquirer uses the \href{https://github.com/Reactive-Extensions/RxJS}{\tt JS reactive extension} to handle events and async flows.

This mean you can take advantage of this feature to provide more advanced flows. For example, you can dynamically add questions to be asked\+:


\begin{DoxyCode}
var prompts = Rx.Observable.create(function( obs ) \{
  obs.onNext(\{ /* question... */ \});
  setTimeout(function () \{
    obs.onNext(\{ /* question... */ \});
    obs.onCompleted();
  \});
\});

inquirer.prompt(prompts);
\end{DoxyCode}


And using the {\ttfamily process} property, you have access to more fine grained callbacks\+:


\begin{DoxyCode}
inquirer.prompt(prompts).process.subscribe(
  onEachAnswer,
  onError,
  onComplete
);
\end{DoxyCode}


\subsection*{Support (OS Terminals)}

You should expect mostly good support for the C\+LI below. This does not mean we won\textquotesingle{}t look at issues found on other command line -\/ feel free to report any!


\begin{DoxyItemize}
\item {\bfseries Mac OS}\+:
\begin{DoxyItemize}
\item Terminal.\+app
\item i\+Term
\end{DoxyItemize}
\item {\bfseries Windows}\+:
\begin{DoxyItemize}
\item cmd.\+exe
\item Powershell
\item Cygwin
\end{DoxyItemize}
\item {\bfseries Linux (Ubuntu, open\+S\+U\+SE, Arch Linux, etc)}\+:
\begin{DoxyItemize}
\item gnome-\/terminal (Terminal G\+N\+O\+ME)
\item konsole
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{News on the march (Release notes)}

Please refer to the \href{https://github.com/SBoudrias/Inquirer.js/releases}{\tt Github releases section for the changelog}

\subsection*{Contributing}

{\bfseries Style Guide} Please brief yourself on \href{https://github.com/rwldrn/idiomatic.js}{\tt Idiomatic.\+js} style guide with two space indent

{\bfseries Unit test} Unit test are written in \href{https://mochajs.org/}{\tt Mocha}. Please add a unit test for every new feature or bug fix. {\ttfamily npm test} to run the test suite.

{\bfseries Documentation} Add documentation for every A\+PI change. Feel free to send corrections or better docs!

{\bfseries Pull Requests} Send {\itshape fixes} PR on the {\ttfamily master} branch. Any new features should be send on the {\ttfamily wip}branch.

We\textquotesingle{}re looking to offer good support for multiple prompts and environments. If you want to help, we\textquotesingle{}d like to keep a list of testers for each terminal/\+OS so we can contact you and get feedback before release. Let us know if you want to be added to the list (just tweet to ) or just add your name to \href{https://github.com/SBoudrias/Inquirer.js/wiki/Testers}{\tt the wiki}

\subsection*{License}

Copyright (c) 2015 Simon Boudrias (twitter\+: ) Licensed under the M\+IT license. 