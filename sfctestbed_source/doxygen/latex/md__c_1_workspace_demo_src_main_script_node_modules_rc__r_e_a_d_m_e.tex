The non-\/configurable configuration loader for lazy people.

\subsection*{Usage}

The only option is to pass rc the name of your app, and your default configuration.


\begin{DoxyCode}
var conf = require('rc')(appname, \{
  //defaults go here.
  port: 2468,

  //defaults which are objects will be merged, not replaced
  views: \{
    engine: 'jade'
  \}
\});
\end{DoxyCode}


{\ttfamily rc} will return your configuration options merged with the defaults you specify. If you pass in a predefined defaults object, it will be mutated\+:


\begin{DoxyCode}
var conf = \{\};
require('rc')(appname, conf);
\end{DoxyCode}


If {\ttfamily rc} finds any config files for your app, the returned config object will have a {\ttfamily configs} array containing their paths\+:


\begin{DoxyCode}
var appCfg = require('rc')(appname, conf);
appCfg.configs[0] // /etc/appnamerc
appCfg.configs[1] // /home/dominictarr/.config/appname
appCfg.config // same as appCfg.configs[appCfg.configs.length - 1]
\end{DoxyCode}


\subsection*{Standards}

Given your application name ({\ttfamily appname}), rc will look in all the obvious places for configuration.


\begin{DoxyItemize}
\item command line arguments (parsed by minimist)
\item environment variables prefixed with {\ttfamily \$\{appname\}\+\_\+}
\begin{DoxyItemize}
\item or use \char`\"{}\textbackslash{}\+\_\+\textbackslash{}\+\_\+\char`\"{} to indicate nested properties ~\newline
 \+\_\+(e.\+g. {\ttfamily appname\+\_\+foo\+\_\+\+\_\+bar\+\_\+\+\_\+baz} =$>$ {\ttfamily foo.\+bar.\+baz})\+\_\+
\end{DoxyItemize}
\item if you passed an option {\ttfamily -\/-\/config file} then from that file
\item a local {\ttfamily .\$\{appname\}rc} or the first found looking in {\ttfamily ./ ../ ../../ ../../../} etc.
\item {\ttfamily \$\+H\+O\+ME/.\$\{appname\}rc}
\item {\ttfamily \$\+H\+O\+ME/.\$\{appname\}/config}
\item {\ttfamily \$\+H\+O\+ME/.config/\$\{appname\}}
\item {\ttfamily \$\+H\+O\+ME/.config/\$\{appname\}/config}
\item {\ttfamily /etc/\$\{appname\}rc}
\item {\ttfamily /etc/\$\{appname\}/config}
\item the defaults object you passed in.
\end{DoxyItemize}

All configuration sources that were found will be flattened into one object, so that sources {\bfseries earlier} in this list override later ones.

\subsection*{Configuration File Formats}

Configuration files (e.\+g. {\ttfamily .appnamerc}) may be in either \href{http://json.org/example}{\tt json} or \href{http://en.wikipedia.org/wiki/INI_file}{\tt ini} format. The example configurations below are equivalent\+:

\paragraph*{Formatted as {\ttfamily ini}}


\begin{DoxyCode}
; You can include comments in `ini` format if you want.

dependsOn=0.10.0


; `rc` has built-in support for ini sections, see?

[commands]
  www     = ./commands/www
  console = ./commands/repl


; You can even do nested sections

[generators.options]
  engine  = ejs

[generators.modules]
  new     = generate-new
  engine  = generate-backend
\end{DoxyCode}


\paragraph*{Formatted as {\ttfamily json}}


\begin{DoxyCode}
\{
  // You can even comment your JSON, if you want
  "dependsOn": "0.10.0",
  "commands": \{
    "www": "./commands/www",
    "console": "./commands/repl"
  \},
  "generators": \{
    "options": \{
      "engine": "ejs"
    \},
    "modules": \{
      "new": "generate-new",
      "backend": "generate-backend"
    \}
  \}
\}
\end{DoxyCode}


Comments are stripped from J\+S\+ON config via \href{https://github.com/sindresorhus/strip-json-comments}{\tt strip-\/json-\/comments}.

\begin{quote}
Since ini, and env variables do not have a standard for types, your application needs be prepared for strings. \end{quote}


\subsection*{Advanced Usage}

\paragraph*{Pass in your own {\ttfamily argv}}

You may pass in your own {\ttfamily argv} as the third argument to {\ttfamily rc}. This is in case you want to \href{https://github.com/dominictarr/rc/pull/12}{\tt use your own command-\/line opts parser}.


\begin{DoxyCode}
require('rc')(appname, defaults, customArgvParser);
\end{DoxyCode}


\subsection*{Pass in your own parser}

If you have a special need to use a non-\/standard parser, you can do so by passing in the parser as the 4th argument. (leave the 3rd as null to get the default args parser)


\begin{DoxyCode}
require('rc')(appname, defaults, null, parser);
\end{DoxyCode}


This may also be used to force a more strict format, such as strict, valid J\+S\+ON only.

\subsection*{Note on Performance}

{\ttfamily rc} is running {\ttfamily fs.\+stat\+Sync}-- so make sure you don\textquotesingle{}t use it in a hot code path (e.\+g. a request handler)

\subsection*{License}

Multi-\/licensed under the two-\/clause B\+SD License, M\+IT License, or Apache License, version 2.\+0 