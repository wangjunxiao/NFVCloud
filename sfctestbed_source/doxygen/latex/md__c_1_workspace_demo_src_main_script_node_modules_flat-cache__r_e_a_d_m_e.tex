\begin{quote}
A stupidly simple key/value storage using files to persist the data \end{quote}


\href{https://npmjs.org/package/flat-cache}{\tt } \href{https://travis-ci.org/royriojas/flat-cache}{\tt }

\subsection*{install}


\begin{DoxyCode}
npm i --save flat-cache
\end{DoxyCode}


\subsection*{Usage}


\begin{DoxyCode}
var flatCache = require('flat-cache')
// loads the cache, if one does not exists for the given
// Id a new one will be prepared to be created
var cache = flatCache.load('cacheId');

// sets a key on the cache
cache.setKey('key', \{ foo: 'var' \});

// get a key from the cache
cache.getKey('key') // \{ foo: 'var' \}

// remove a key
cache.removeKey('key'); // removes a key from the cache

// save it to disk
cache.save(); // very important, if you don't save no changes will be persisted.
// cache.save( true /* noPrune */) // can be used to prevent the removal of non visited keys

// loads the cache from a given directory, if one does
// not exists for the given Id a new one will be prepared to be created
var cache = flatCache.load('cacheId', path.resolve('./path/to/folder'));

// The following methods are useful to clear the cache
// delete a given cache
flatCache.clearCacheById('cacheId') // removes the cacheId document if one exists.

// delete all cache
flatCache.clearAll(); // remove the cache directory
\end{DoxyCode}


\subsection*{Motivation for this module}

I needed a super simple and dumb {\bfseries in-\/memory cache} with optional disk persistance in order to make a script that will beutify files with {\ttfamily esformatter} only execute on the files that were changed since the last run. To make that possible we need to store the {\ttfamily file\+Size} and {\ttfamily modification\+Time} of the files. So a simple {\ttfamily key/value} storage was needed and Bam! this module was born.

\subsection*{Important notes}


\begin{DoxyItemize}
\item If no directory is especified when the {\ttfamily load} method is called, a folder named {\ttfamily .cache} will be created inside the module directory when {\ttfamily cache.\+save} is called. If you\textquotesingle{}re committing your {\ttfamily node\+\_\+modules} to any vcs, you might want to ignore the default {\ttfamily .cache} folder, or specify a custom directory.
\item The values set on the keys of the cache should be {\ttfamily stringify-\/able} ones, meaning no circular references
\item All the changes to the cache state are done to memory
\item I could have used a timer or {\ttfamily Object.\+observe} to deliver the changes to disk, but I wanted to keep this module intentionally dumb and simple
\item Non visited keys are removed when {\ttfamily cache.\+save()} is called. If this is not desired, you can pass {\ttfamily true} to the save call like\+: {\ttfamily cache.\+save( true /$\ast$ no\+Prune $\ast$/ )}.
\end{DoxyItemize}

\subsection*{License}

M\+IT

\subsection*{Changelog}

./changelog.md \char`\"{}changelog\char`\"{} 