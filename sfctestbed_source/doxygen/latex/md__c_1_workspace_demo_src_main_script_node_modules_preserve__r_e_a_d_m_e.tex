\begin{quote}
Temporarily substitute tokens in the given {\ttfamily string} with placeholders, then put them back after transforming the string. \end{quote}


Useful for protecting tokens, like templates in H\+T\+ML, from being mutated when the string is transformed in some way, like from a formatter/beautifier.

{\bfseries Example without {\ttfamily preserve}}

Let\textquotesingle{}s say you want to use \href{https://github.com/beautify-web/js-beautify}{\tt js-\/beautify} on a string of html with Lo-\/\+Dash/\+Underscore templates, such as\+: {\ttfamily $<$ul$>$$<$li$>$$<$\%= name \%$>$$<$/li$>$$<$/ul$>$}\+:

js-\/beautify will render the template unusable (and apply incorrect formatting because of the unfamiliar syntax from the Lo-\/\+Dash template)\+:


\begin{DoxyCode}
<ul>
  <li>
    <%=n ame %>
  </li>
</ul>
\end{DoxyCode}


{\bfseries Example with {\ttfamily preserve}}

Correct.


\begin{DoxyCode}
<ul>
  <li><%= name %></li>
</ul>
\end{DoxyCode}


For the record, this is just a random example, I\textquotesingle{}ve had very few issues with js-\/beautify in general. But with or without js-\/beautify, this kind of token mangling does happen sometimes when you use formatters, beautifiers or similar tools.

\subsection*{Install}

\subsection*{Install with \href{npmjs.org}{\tt npm}}


\begin{DoxyCode}
npm i preserve --save
\end{DoxyCode}


\subsection*{Run tests}


\begin{DoxyCode}
npm test
\end{DoxyCode}


\subsection*{A\+PI}

\subsubsection*{\href{index.js#L23}{\tt .before}}

Replace tokens in {\ttfamily str} with a temporary, heuristic placeholder.


\begin{DoxyItemize}
\item {\ttfamily str} $\ast$$\ast$\{String\}$\ast$$\ast$ ~\newline
$\ast$ {\ttfamily returns} $\ast$$\ast$\{String\}$\ast$$\ast$\+: String with placeholders. ~\newline
 
\begin{DoxyCode}
tokens.before('\{a\(\backslash\)\(\backslash\),b\}');
//=> '\{\_\_ID1\_\_\}'
\end{DoxyCode}

\end{DoxyItemize}

\subsubsection*{\href{index.js#L44}{\tt .after}}

Replace placeholders in {\ttfamily str} with original tokens.


\begin{DoxyItemize}
\item {\ttfamily str} $\ast$$\ast$\{String\}$\ast$$\ast$\+: String with placeholders ~\newline
$\ast$ {\ttfamily returns} $\ast$$\ast$\{String\}$\ast$$\ast$ {\ttfamily str}\+: String with original tokens. ~\newline
 
\begin{DoxyCode}
tokens.after('\{\_\_ID1\_\_\}');
//=> '\{a\(\backslash\)\(\backslash\),b\}'
\end{DoxyCode}

\end{DoxyItemize}

\subsection*{Contributing}

Pull requests and stars are always welcome. For bugs and feature requests, \href{https://github.com/jonschlinkert/preserve/issues}{\tt please create an issue}

\subsection*{Author}

{\bfseries Jon Schlinkert}


\begin{DoxyItemize}
\item \href{https://github.com/jonschlinkert}{\tt github/jonschlinkert}
\item \href{http://twitter.com/jonschlinkert}{\tt twitter/jonschlinkert}
\end{DoxyItemize}

\subsection*{License}

Copyright (c) 2015-\/2015, Jon Schlinkert. Released under the M\+IT license





{\itshape This file was generated by \href{https://github.com/assemble/verb}{\tt verb} on January 10, 2015.} 