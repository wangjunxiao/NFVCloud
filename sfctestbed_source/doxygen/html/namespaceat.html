<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>demo: at 命名空间参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">demo
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">Vfunc Spring Boot项目概要</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">at 命名空间参考</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>rules;</p><ul>
<li>the <a href="https://jakubpawlowicz.github.io/clean-css">web interface</a> gets an improved settings panel with "reset to defaults", instant option changes, and settings being persisted across sessions.</li>
</ul>
<h2>Constructor options</h2>
<p>clean-css constructor accepts a hash as a parameter with the following options available:</p>
<ul>
<li><code>compatibility</code> - controls compatibility mode used; defaults to <code>ie10+</code>; see <a href="#compatibility-modes">compatibility modes</a> for examples;</li>
<li><code>fetch</code> - controls a function for handling remote requests; see <a href="#fetch-option">fetch option</a> for examples (since 4.1.0);</li>
<li><code>format</code> - controls output CSS formatting; defaults to <code>false</code>; see <a href="#formatting-options">formatting options</a> for examples;</li>
<li><code>inline</code> - controls <code>@import</code> inlining rules; defaults to &lsquo;'local&rsquo;<code>; see [inlining options](#inlining-options) for examples; *</code>inlineRequest<code>- controls extra options for inlining remote</code><code>rules, can be any of [HTTP(S) request options](<a href="https://nodejs.org/api/http.html#http_http_request_options_callback">https://nodejs.org/api/http.html#http_http_request_options_callback</a>); *</code>inlineTimeout<code>- controls number of milliseconds after which inlining a remote</code><code>fails; defaults to 5000; *</code>level<code>- controls optimization level used; defaults to</code>1<code>; see [optimization levels](#optimization-levels) for examples; *</code>rebase<code>- controls <a class="el" href="namespace_u_r_l.html">URL</a> rebasing; defaults to</code>true<code>; *</code>rebaseTo<code>- controls a directory to which all URLs are rebased, most likely the directory under which the output file will live; defaults to the current directory; *</code>returnPromise<code>- controls whether</code>minify<code>method returns a Promise object or not; defaults to</code>false<code>; see [promise interface](#promise-interface) for examples; *</code>sourceMap<code>- controls whether an output source map is built; defaults to</code>false<code>; *</code>sourceMapInlineSources<code>- controls embedding sources inside a source map's</code>sourcesContent` field; defaults to false.</li>
</ul>
<h2>Compatibility modes</h2>
<p>There is a certain number of compatibility mode shortcuts, namely:</p>
<ul>
<li>&lsquo;new CleanCSS({ compatibility: &rsquo;*' })<code>(default) - Internet Explorer 10+ compatibility mode *</code>new CleanCSS({ compatibility: 'ie9' })<code>- Internet Explorer 9+ compatibility mode *</code>new CleanCSS({ compatibility: 'ie8' })<code>- Internet Explorer 8+ compatibility mode *</code>new CleanCSS({ compatibility: 'ie7' })` - Internet Explorer 7+ compatibility mode</li>
</ul>
<p>Each of these modes is an alias to a <a href="https://github.com/jakubpawlowicz/clean-css/blob/master/lib/options/compatibility.js">fine grained configuration</a>, with the following options available:</p>
<p>```js new CleanCSS({ compatibility: { colors: { opacity: true // controls <code>rgba()</code> / <code>hsla()</code> color support }, properties: { backgroundClipMerging: true, // controls background-clip merging into shorthand backgroundOriginMerging: true, // controls background-origin merging into shorthand backgroundSizeMerging: true, // controls background-size merging into shorthand colors: true, // controls color optimizations ieBangHack: false, // controls keeping IE bang hack ieFilters: false, // controls keeping IE <code>filter</code> / <code>-ms-filter</code> iePrefixHack: false, // controls keeping IE prefix hack ieSuffixHack: false, // controls keeping IE suffix hack merging: true, // controls property merging based on understandability shorterLengthUnits: false, // controls shortening pixel units into <code>pc</code>, <code>pt</code>, or <code>in</code> units spaceAfterClosingBrace: true, // controls keeping space after closing brace - <code>url() no-repeat</code> into <code>url()no-repeat</code> urlQuotes: false, // controls keeping quoting inside <code>url()</code> zeroUnits: true // controls removal of units <code>0</code> value }, selectors: { adjacentSpace: false, // controls extra space before <code>nav</code> element ie7Hack: true, // controls removal of IE7 selector hacks, e.g. <code>*+html...</code> mergeablePseudoClasses: [':active', ...], // controls a whitelist of mergeable pseudo classes mergeablePseudoElements: ['::after', ...], // controls a whitelist of mergeable pseudo elements mergeLimit: 8191, // controls maximum number of selectors in a single rule (since 4.1.0) multiplePseudoMerging: true // controls merging of rules with multiple pseudo classes / elements (since 4.1.0) }, units: { ch: true, // controls treating <code>ch</code> as a supported unit in: true, // controls treating <code>in</code> as a supported unit pc: true, // controls treating <code>pc</code> as a supported unit pt: true, // controls treating <code>pt</code> as a supported unit rem: true, // controls treating <code>rem</code> as a supported unit vh: true, // controls treating <code>vh</code> as a supported unit vm: true, // controls treating <code>vm</code> as a supported unit vmax: true, // controls treating <code>vmax</code> as a supported unit vmin: true // controls treating <code>vmin</code> as a supported unit } } }) </p><div class="fragment"><div class="line">You can also use a string when setting a compatibility mode, e.g.</div><div class="line"></div><div class="line">```js</div><div class="line">new CleanCSS({</div><div class="line">  compatibility: &#39;ie9,-properties.merging&#39; // sets compatibility to IE9 mode with disabled property merging</div><div class="line">})</div></div><!-- fragment --><h2>Fetch option</h2>
<p>The <code>fetch</code> option accepts a function which handles remote resource fetching, e.g.</p>
<div class="fragment"><div class="line">var request = require(&#39;request&#39;);</div><div class="line">var source = &#39;@import url(http://example.com/path/to/stylesheet.css);&#39;;</div><div class="line">new CleanCSS({</div><div class="line">  fetch: function (uri, inlineRequest, inlineTimeout, callback) {</div><div class="line">    request(uri, function (error, response, body) {</div><div class="line">      if (error) {</div><div class="line">        callback(error, null);</div><div class="line">      } else if (response &amp;&amp; response.statusCode != 200) {</div><div class="line">        callback(response.statusCode, null);</div><div class="line">      } else {</div><div class="line">        callback(null, body);</div><div class="line">      }</div><div class="line">    });</div><div class="line">  }</div><div class="line">}).minify(source);</div></div><!-- fragment --><p>This option provides a convenient way of overriding the default fetching logic if it doesn't support a particular feature, say CONNECT proxies.</p>
<p>Unless given, the default <a href="https://github.com/jakubpawlowicz/clean-css/blob/master/lib/reader/load-remote-resource.js">loadRemoteResource</a> logic is used.</p>
<h2>Formatting options</h2>
<p>By default output CSS is formatted without any whitespace unless a <code>format</code> option is given. First of all there are two shorthands:</p>
<div class="fragment"><div class="line">new CleanCSS({</div><div class="line">  format: &#39;beautify&#39; // formats output in a really nice way</div><div class="line">})</div></div><!-- fragment --><p>and</p>
<div class="fragment"><div class="line">new CleanCSS({</div><div class="line">  format: &#39;keep-breaks&#39; // formats output the default way but adds line breaks for improved readability</div><div class="line">})</div></div><!-- fragment --><p>however <code>format</code> option also accept a fine-grained set of options:</p>
<p>```js new CleanCSS({ format: { breaks: { // controls where to insert breaks afterAtRule: false, // controls if a line break comes after an at-rule; e.g. <code>@charset</code>; defaults to <code>false</code> afterBlockBegins: false, // controls if a line break comes after a block begins; e.g. <code>@media</code>; defaults to <code>false</code> afterBlockEnds: false, // controls if a line break comes after a block ends, defaults to <code>false</code> afterComment: false, // controls if a line break comes after a comment; defaults to <code>false</code> afterProperty: false, // controls if a line break comes after a property; defaults to <code>false</code> afterRuleBegins: false, // controls if a line break comes after a rule begins; defaults to <code>false</code> afterRuleEnds: false, // controls if a line break comes after a rule ends; defaults to <code>false</code> beforeBlockEnds: false, // controls if a line break comes before a block ends; defaults to <code>false</code> betweenSelectors: false // controls if a line break comes between selectors; defaults to <code>false</code> }, indentBy: 0, // controls number of characters to indent with; defaults to <code>0</code> indentWith: 'space', // controls a character to indent with, can be &lsquo;'space&rsquo;<code>or</code>'tab'<code>; defaults to</code>'space'` spaces: { // controls where to insert spaces aroundSelectorRelation: false, // controls if spaces come around selector relations; e.g. <code>div &gt; a</code>; defaults to <code>false</code> beforeBlockBegins: false, // controls if a space comes before a block begins; e.g. <code>.block {</code>; defaults to <code>false</code> beforeValue: false // controls if a space comes before a value; e.g. <code>width: 1rem</code>; defaults to <code>false</code> }, wrapAt: false // controls maximum line length; defaults to <code>false</code> } }) </p><div class="fragment"><div class="line">## Inlining options</div><div class="line"></div><div class="line">`inline` option whitelists which `@import` rules will be processed, e.g.</div><div class="line"></div><div class="line">```js</div><div class="line">new CleanCSS({</div><div class="line">  inline: [&#39;local&#39;] // default; enables local inlining only</div><div class="line">})</div></div><!-- fragment --><div class="fragment"><div class="line">new CleanCSS({</div><div class="line">  inline: [&#39;none&#39;] // disables all inlining</div><div class="line">})</div></div><!-- fragment --><div class="fragment"><div class="line">// introduced in clean-css 4.1.0</div><div class="line"></div><div class="line">new CleanCSS({</div><div class="line">  inline: false // disables all inlining (alias to `[&#39;none&#39;]`)</div><div class="line">})</div></div><!-- fragment --><div class="fragment"><div class="line">new CleanCSS({</div><div class="line">  inline: [&#39;all&#39;] // enables all inlining, same as [&#39;local&#39;, &#39;remote&#39;]</div><div class="line">})</div></div><!-- fragment --><div class="fragment"><div class="line">new CleanCSS({</div><div class="line">  inline: [&#39;local&#39;, &#39;mydomain.example.com&#39;] // enables local inlining plus given remote source</div><div class="line">})</div></div><!-- fragment --><div class="fragment"><div class="line">new CleanCSS({</div><div class="line">  inline: [&#39;local&#39;, &#39;remote&#39;, &#39;!fonts.googleapis.com&#39;] // enables all inlining but from given remote source</div><div class="line">})</div></div><!-- fragment --><h2>Optimization levels</h2>
<p>The <code>level</code> option can be either <code>0</code>, <code>1</code> (default), or <code>2</code>, e.g.</p>
<div class="fragment"><div class="line">new CleanCSS({</div><div class="line">  level: 2</div><div class="line">})</div></div><!-- fragment --><p>or a fine-grained configuration given via a hash.</p>
<p>Please note that level 1 optimization options are generally safe while level 2 optimizations should be safe for most users.</p>
<h3>Level 0 optimizations</h3>
<p>Level 0 optimizations simply means "no optimizations". Use it when you'd like to inline imports and / or rebase URLs but skip everything else.</p>
<h3>Level 1 optimizations</h3>
<p>Level 1 optimizations (default) operate on single properties only, e.g. can remove units when not required, turn rgb colors to a shorter hex representation, remove comments, etc</p>
<p>Here is a full list of available options:</p>
<p>```js new CleanCSS({ level: { 1: { cleanupCharsets: true, // controls <code>@charset</code> moving to the front of a stylesheet; defaults to <code>true</code> normalizeUrls: true, // controls <a class="el" href="namespace_u_r_l.html">URL</a> normalization; defaults to <code>true</code> optimizeBackground: true, // controls <code>background</code> property optimizations; defaults to <code>true</code> optimizeBorderRadius: true, // controls <code>border-radius</code> property optimizations; defaults to <code>true</code> optimizeFilter: true, // controls <code>filter</code> property optimizations; defaults to <code>true</code> optimizeFont: true, // controls <code>font</code> property optimizations; defaults to <code>true</code> optimizeFontWeight: true, // controls <code>font-weight</code> property optimizations; defaults to <code>true</code> optimizeOutline: true, // controls <code>outline</code> property optimizations; defaults to <code>true</code> removeEmpty: true, // controls removing empty rules and nested blocks; defaults to <code>true</code> removeNegativePaddings: true, // controls removing negative paddings; defaults to <code>true</code> removeQuotes: true, // controls removing quotes when unnecessary; defaults to <code>true</code> removeWhitespace: true, // controls removing unused whitespace; defaults to <code>true</code> replaceMultipleZeros: true, // contols removing redundant zeros; defaults to <code>true</code> replaceTimeUnits: true, // controls replacing time units with shorter values; defaults to <code>true</code> replaceZeroUnits: true, // controls replacing zero values with units; defaults to <code>true</code> roundingPrecision: false, // rounds pixel values to <code>N</code> decimal places; <code>false</code> disables rounding; defaults to <code>false</code> selectorsSortingMethod: 'standard', // denotes selector sorting method; can be &lsquo;'natural&rsquo;<code>or</code>'standard'<code>,</code>'none'<code>, or false (the last two since 4.1.0); defaults to</code>'standard'&lsquo; specialComments: 'all&rsquo;, // denotes a number of /*! ... */ comments preserved; defaults to <code>all</code> tidyAtRules: true, // controls at-rules (e.g. <code>@charset</code>, <code>@import</code>) optimizing; defaults to <code>true</code> tidyBlockScopes: true, // controls block scopes (e.g. <code>@media</code>) optimizing; defaults to <code>true</code> tidySelectors: true, // controls selectors optimizing; defaults to <code>true</code>, transform: function () {} // defines a callback for fine-grained property optimization; defaults to no-op } } }); ```</p>
<p>There is an <code>all</code> shortcut for toggling all options at the same time, e.g.</p>
<p>```js new CleanCSS({ level: { 1: { all: false, // set all values to <code>false</code> tidySelectors: true // turns on optimizing selectors } } }); ```</p>
<h3>Level 2 optimizations</h3>
<p>Level 2 optimizations operate at rules or multiple properties level, e.g. can remove duplicate rules, remove properties redefined further down a stylesheet, or restructure rules by moving them around.</p>
<p>Please note that if level 2 optimizations are turned on then, unless explicitely disabled, level 1 optimizations are applied as well.</p>
<p>Here is a full list of available options:</p>
<p>```js new CleanCSS({ level: { 2: { mergeAdjacentRules: true, // controls adjacent rules merging; defaults to true mergeIntoShorthands: true, // controls merging properties into shorthands; defaults to true mergeMedia: true, // controls <code>@media</code> merging; defaults to true mergeNonAdjacentRules: true, // controls non-adjacent rule merging; defaults to true mergeSemantically: false, // controls semantic merging; defaults to false overrideProperties: true, // controls property overriding based on understandability; defaults to true removeEmpty: true, // controls removing empty rules and nested blocks; defaults to <code>true</code> reduceNonAdjacentRules: true, // controls non-adjacent rule reducing; defaults to true removeDuplicateFontRules: true, // controls duplicate <code>@font-face</code> removing; defaults to true removeDuplicateMediaBlocks: true, // controls duplicate <code>@media</code> removing; defaults to true removeDuplicateRules: true, // controls duplicate rules removing; defaults to true removeUnusedAtRules: false, // controls unused at rule removing; defaults to false (available since 4.1.0) restructureRules: false, // controls rule restructuring; defaults to false skipProperties: [] // controls which properties won't be optimized, defaults to <code>[]</code> which means all will be optimized (since 4.1.0) } } }); ```</p>
<p>There is an <code>all</code> shortcut for toggling all options at the same time, e.g.</p>
<p>```js new CleanCSS({ level: { 2: { all: false, // sets all values to <code>false</code> removeDuplicateRules: true // turns on removing duplicate rules } } }); </p><div class="fragment"><div class="line">## Minify method</div><div class="line"></div><div class="line">Once configured clean-css provides a `minify` method to optimize a given CSS, e.g.</div><div class="line"></div><div class="line">```js</div><div class="line">var output = new CleanCSS(options).minify(source);</div></div><!-- fragment --><p>The output of the <code>minify</code> method is a hash with following fields:</p>
<div class="fragment"><div class="line">console.log(output.styles); // optimized output CSS as a string</div><div class="line">console.log(output.sourceMap); // output source map if requested with `sourceMap` option</div><div class="line">console.log(output.errors); // a list of errors raised</div><div class="line">console.log(output.warnings); // a list of warnings raised</div><div class="line">console.log(output.stats.originalSize); // original content size after import inlining</div><div class="line">console.log(output.stats.minifiedSize); // optimized content size</div><div class="line">console.log(output.stats.timeSpent); // time spent on optimizations in milliseconds</div><div class="line">console.log(output.stats.efficiency); // a ratio of output size to input size (e.g. 25% if content was reduced from 100 bytes to 75 bytes)</div></div><!-- fragment --><p>The <code>minify</code> method also accepts an input source map, e.g.</p>
<div class="fragment"><div class="line">var output = new CleanCSS(options).minify(source, inputSourceMap);</div></div><!-- fragment --><p>or a callback invoked when optimizations are finished, e.g.</p>
<div class="fragment"><div class="line">new CleanCSS(options).minify(source, function (error, output) {</div><div class="line">  // `output` is the same as in the synchronous call above</div><div class="line">});</div></div><!-- fragment --><h2>Promise interface</h2>
<p>If you prefer clean-css to return a Promise object then you need to explicitely ask for it, e.g.</p>
<div class="fragment"><div class="line">new CleanCSS({ returnPromise: true })</div><div class="line">  .minify(source)</div><div class="line">  .then(function (output) { console.log(output.styles); })</div><div class="line">  .catch(function (error) { // deal with errors });</div></div><!-- fragment --><h2>CLI utility</h2>
<p>Clean-css has an associated command line utility that can be installed separately using <code>npm install clean-css-cli</code>. For more detailed information, please visit <a href="https://github.com/jakubpawlowicz/clean-css-cli">https://github.com/jakubpawlowicz/clean-css-cli</a>.</p>
<h1>FAQ</h1>
<h2>How to optimize multiple files?</h2>
<p>It can be done either by passing an array of paths, or, when sources are already available, a hash or an array of hashes:</p>
<div class="fragment"><div class="line">new CleanCSS().minify([&#39;path/to/file/one&#39;, &#39;path/to/file/two&#39;]);</div></div><!-- fragment --><div class="fragment"><div class="line">new CleanCSS().minify({</div><div class="line">  &#39;path/to/file/one&#39;: {</div><div class="line">    styles: &#39;contents of file one&#39;</div><div class="line">  },</div><div class="line">  &#39;path/to/file/two&#39;: {</div><div class="line">    styles: &#39;contents of file two&#39;</div><div class="line">  }</div><div class="line">});</div></div><!-- fragment --><div class="fragment"><div class="line">new CleanCSS().minify([</div><div class="line">  {&#39;path/to/file/one&#39;: {styles: &#39;contents of file one&#39;}},</div><div class="line">  {&#39;path/to/file/two&#39;: {styles: &#39;contents of file two&#39;}}</div><div class="line">]);</div></div><!-- fragment --><p>Passing an array of hashes allows you to explicitly specify the order in which the input files are concatenated. Whereas when you use a single hash the order is determined by the <a href="http://2ality.com/2015/10/property-traversal-order-es6.html">traversal order of object properties</a> - available since 4.1.0.</p>
<p>Important note - any <code>@import</code> rules already present in the hash will be resolved in memory.</p>
<h2>How to process remote <code>@import</code>s correctly?</h2>
<p>In order to inline remote <code>@import</code> statements you need to provide a callback to minify method as fetching remote assets is an asynchronous operation, e.g.:</p>
<div class="fragment"><div class="line">var source = &#39;@import url(http://example.com/path/to/remote/styles);&#39;;</div><div class="line">new CleanCSS({ inline: [&#39;remote&#39;] }).minify(source, function (error, output) {</div><div class="line">  // output.styles</div><div class="line">});</div></div><!-- fragment --><p>If you don't provide a callback, then remote <code>@import</code>s will be left as is.</p>
<h2>How to apply arbitrary transformations to CSS properties?</h2>
<p>If clean-css doesn't perform a particular property optimization, you can use <code>transform</code> callback to apply it:</p>
<div class="fragment"><div class="line">var source = &#39;.block{background-image:url(/path/to/image.png)}&#39;;</div><div class="line">var output = new CleanCSS({</div><div class="line">  level: {</div><div class="line">    1: {</div><div class="line">      transform: function (propertyName, propertyValue) {</div><div class="line">        if (propertyName == &#39;background-image&#39; &amp;&amp; propertyValue.indexOf(&#39;/path/to&#39;) &gt; -1) {</div><div class="line">          return propertyValue.replace(&#39;/path/to&#39;, &#39;../valid/path/to&#39;);</div><div class="line">        }</div><div class="line">      }</div><div class="line">    }</div><div class="line">  }</div><div class="line">}).minify(source);</div><div class="line"></div><div class="line">console.log(output.styles); # =&gt; .block{background-image:url(../valid/path/to/image.png)}</div></div><!-- fragment --><p>Note: returning <code>false</code> from <code>transform</code> callback will drop a property.</p>
<h2>How to specify a custom rounding precision?</h2>
<p>The level 1 <code>roundingPrecision</code> optimization option accept a string with per-unit rounding precision settings, e.g.</p>
<div class="fragment"><div class="line">new CleanCSS({</div><div class="line">  level: {</div><div class="line">    1: {</div><div class="line">      roundingPrecision: &#39;all=3,px=5&#39;</div><div class="line">    }</div><div class="line">  }</div><div class="line">}).minify(source)</div></div><!-- fragment --><p>which sets all units rounding precision to 3 digits except <code>px</code> unit precision of 5 digits.</p>
<h2>How to preserve a comment block?</h2>
<p>Use the <code>/*!</code> notation instead of the standard one <code>/*</code>:</p>
<div class="fragment"><div class="line">/*!</div><div class="line">  Important comments included in optimized output.</div><div class="line">*/</div></div><!-- fragment --><h2>How to rebase relative image URLs?</h2>
<p>clean-css will handle it automatically for you in the following cases:</p>
<ul>
<li>when full paths to input files are passed in as options;</li>
<li>when correct paths are passed in via a hash;</li>
<li>when <code>rebaseTo</code> is used with any of above two.</li>
</ul>
<h2>How to work with source maps?</h2>
<p>To generate a source map, use <code>sourceMap: true</code> option, e.g.:</p>
<div class="fragment"><div class="line">new CleanCSS({ sourceMap: true, rebaseTo: pathToOutputDirectory })</div><div class="line">  .minify(source, function (error, output) {</div><div class="line">    // access output.sourceMap for SourceMapGenerator object</div><div class="line">    // see https://github.com/mozilla/source-map/#sourcemapgenerator for more details</div><div class="line">});</div></div><!-- fragment --><p>You can also pass an input source map directly as a 2nd argument to <code>minify</code> method:</p>
<div class="fragment"><div class="line">new CleanCSS({ sourceMap: true, rebaseTo: pathToOutputDirectory })</div><div class="line">  .minify(source, inputSourceMap, function (error, output) {</div><div class="line">    // access output.sourceMap to access SourceMapGenerator object</div><div class="line">    // see https://github.com/mozilla/source-map/#sourcemapgenerator for more details</div><div class="line">});</div></div><!-- fragment --><p>or even multiple input source maps at once:</p>
<div class="fragment"><div class="line">new CleanCSS({ sourceMap: true, rebaseTo: pathToOutputDirectory }).minify({</div><div class="line">  &#39;path/to/source/1&#39;: {</div><div class="line">    styles: &#39;...styles...&#39;,</div><div class="line">    sourceMap: &#39;...source-map...&#39;</div><div class="line">  },</div><div class="line">  &#39;path/to/source/2&#39;: {</div><div class="line">    styles: &#39;...styles...&#39;,</div><div class="line">    sourceMap: &#39;...source-map...&#39;</div><div class="line">  }</div><div class="line">}, function (error, output) {</div><div class="line">  // access output.sourceMap as above</div><div class="line">});</div></div><!-- fragment --><h2>How to apply level 1 &amp; 2 optimizations at the same time?</h2>
<p>Using the hash configuration specifying both optimization levels, e.g.</p>
<div class="fragment"><div class="line">new CleanCSS({</div><div class="line">  level: {</div><div class="line">    1: {</div><div class="line">      all: true,</div><div class="line">      normalizeUrls: false</div><div class="line">    },</div><div class="line">    2: {</div><div class="line">      restructureRules: true</div><div class="line">    }</div><div class="line">  }</div><div class="line">})</div></div><!-- fragment --><p>will apply level 1 optimizations, except url normalization, and default level 2 optimizations with rule restructuring.</p>
<h2>What level 2 optimizations do?</h2>
<p>All level 2 optimizations are dispatched <a href="https://github.com/jakubpawlowicz/clean-css/blob/master/lib/optimizer/level-2/optimize.js#L67">here</a>, and this is what they do:</p>
<ul>
<li><code>recursivelyOptimizeBlocks</code> - does all the following operations on a nested block, like <code>@media</code> or <code>@keyframe</code>;</li>
<li><code>recursivelyOptimizeProperties</code> - optimizes properties in rulesets and flat at-rules, like -face, by splitting them into components (e.g. <code>margin</code> into <code>margin-(bottom|left|right|top)</code>), optimizing, and restoring them back. You may want to use <code>mergeIntoShorthands</code> option to control whether you want to turn multiple components into shorthands;</li>
<li><code>removeDuplicates</code> - gets rid of duplicate rulesets with exactly the same set of properties, e.g. when including a Sass / Less partial twice for no good reason;</li>
<li><code>mergeAdjacent</code> - merges adjacent rulesets with the same selector or rules;</li>
<li><code>reduceNonAdjacent</code> - identifies which properties are overridden in same-selector non-adjacent rulesets, and removes them;</li>
<li><code>mergeNonAdjacentBySelector</code> - identifies same-selector non-adjacent rulesets which can be moved (!) to be merged, requires all intermediate rulesets to not redefine the moved properties, or if redefined to have the same value;</li>
<li><code>mergeNonAdjacentByBody</code> - same as the one above but for same-selector non-adjacent rulesets;</li>
<li><code>restructure</code> - tries to reorganize different-selector different-rules rulesets so they take less space, e.g. <code>.one{padding:0}.two{margin:0}.one{margin-bottom:3px}</code> into <code>.two{margin:0}.one{padding:0;margin-bottom:3px}</code>;</li>
<li><code>removeDuplicateFontAtRules</code> - removes duplicated <code>@font-face</code> rules;</li>
<li><code>removeDuplicateMediaQueries</code> - removes duplicated <code>@media</code> nested blocks;</li>
<li><code>mergeMediaQueries</code> - merges non-adjacent <code>@media</code> at-rules by the same rules as <code>mergeNonAdjacentBy*</code> above;</li>
</ul>
<h2>How to use clean-css with build tools?</h2>
<p>There is a number of 3rd party plugins to popular build tools:</p>
<ul>
<li><a href="https://github.com/broccolijs/broccoli#broccoli">Broccoli</a>: <a href="https://github.com/shinnn/broccoli-clean-css">broccoli-clean-css</a></li>
<li><a href="http://brunch.io/">Brunch</a>: <a href="https://github.com/brunch/clean-css-brunch">clean-css-brunch</a></li>
<li><a href="http://gruntjs.com">Grunt</a>: <a href="https://github.com/gruntjs/grunt-contrib-cssmin">grunt-contrib-cssmin</a></li>
<li><a href="http://gulpjs.com/">Gulp</a>: <a href="https://github.com/scniro/gulp-clean-css">gulp-clean-css</a></li>
<li><a href="http://gulpjs.com/">Gulp</a>: <a href="https://github.com/jakubpawlowicz/clean-css/issues/342">using vinyl-map as a wrapper - courtesy of </a></li>
<li><a href="https://github.com/component/builder2.js">component-builder2</a>: <a href="https://github.com/poying/builder-clean-css">builder-clean-css</a></li>
<li><a href="http://metalsmith.io">Metalsmith</a>: <a href="https://github.com/aymericbeaumet/metalsmith-clean-css">metalsmith-clean-css</a></li>
<li><a href="https://github.com/lasso-js/lasso">Lasso</a>: <a href="https://github.com/yomed/lasso-clean-css">lasso-clean-css</a></li>
<li><a href="https://github.com/start-runner/start">Start</a>: <a href="https://github.com/start-runner/clean-css">start-clean-css</a></li>
</ul>
<h2>How to use clean-css from web browser?</h2>
<ul>
<li><a href="https://jakubpawlowicz.github.io/clean-css/">https://jakubpawlowicz.github.io/clean-css/</a> (official web interface)</li>
<li><a href="http://refresh-sf.com/">http://refresh-sf.com/</a></li>
<li><a href="http://adamburgess.github.io/clean-css-online/">http://adamburgess.github.io/clean-css-online/</a></li>
</ul>
<h1>Contributing</h1>
<p>See https://github.com/jakubpawlowicz/clean-css/blob/master/CONTRIBUTING.md "CONTRIBUTING.md".</p>
<h2>How to get started?</h2>
<p>First clone the sources:</p>
<div class="fragment"><div class="line">git clone git@github.com:jakubpawlowicz/clean-css.git</div></div><!-- fragment --><p>then install dependencies:</p>
<div class="fragment"><div class="line">cd clean-css</div><div class="line">npm install</div></div><!-- fragment --><p>then use any of the following commands to verify your copy:</p>
<div class="fragment"><div class="line">npm run bench # for clean-css benchmarks (see [test/bench.js](https://github.com/jakubpawlowicz/clean-css/blob/master/test/bench.js) for details)</div><div class="line">npm run browserify # to create the browser-ready clean-css version</div><div class="line">npm run check # to lint JS sources with [JSHint](https://github.com/jshint/jshint/)</div><div class="line">npm test # to run all tests</div></div><!-- fragment --><h1>Acknowledgments</h1>
<p>Sorted alphabetically by GitHub handle:</p>
<ul>
<li><a href="https://github.com/abarre"></a> (Anthony Barre) for improvements to <code>@import</code> processing;</li>
<li><a href="https://github.com/alexlamsl"></a> (Alex Lam S.L.) for testing early clean-css 4 versions, reporting bugs, and suggesting numerous improvements.</li>
<li><a href="https://github.com/altschuler"></a> (Simon Altschuler) for fixing <code>@import</code> processing inside comments;</li>
<li><a href="https://github.com/ben-eb">-eb</a> (Ben Briggs) for sharing ideas about CSS optimizations;</li>
<li><a href="https://github.com/facelessuser"></a> (Isaac) for pointing out a flaw in clean-css' stateless mode;</li>
<li><a href="https://github.com/grandrath"></a> (Martin Grandrath) for improving <code>minify</code> method source traversal in ES6;</li>
<li><a href="https://github.com/jmalonzo"></a> (Jan Michael Alonzo) for a patch removing node.js' old <code>sys</code> package;</li>
<li><a href="https://github.com/lukeapage"></a> (Luke Page) for suggestions and testing the source maps feature; Plus everyone else involved in <a href="https://github.com/jakubpawlowicz/clean-css/issues/125">#125</a> for pushing it forward;</li>
<li><a href="https://github.com/madwizard-thomas">-thomas</a> for sharing ideas about <code>@import</code> inlining and <a class="el" href="namespace_u_r_l.html">URL</a> rebasing.</li>
<li><a href="https://github.com/ngyikp"></a> (Ng Yik Phang) for testing early clean-css 4 versions, reporting bugs, and suggesting numerous improvements.</li>
<li><a href="https://github.com/wagenet"></a> (Peter Wagenet) for suggesting improvements to <code>@import</code> inlining behavior;</li>
<li><a href="https://github.com/venemo"></a> (Timur Kristóf) for an outstanding contribution of advanced property optimizer for 2.2 release;</li>
<li><a href="https://github.com/vvo"></a> (Vincent Voyer) for a patch with better empty element regex and for inspiring us to do many performance improvements in 0.4 release;</li>
<li><a href="https://github.com/xhmikosr"></a> for suggesting new features, like option to remove special comments and strip out URLs quotation, and pointing out numerous improvements like JSHint, media queries, etc.</li>
</ul>
<h1>License</h1>
<p>clean-css is released under the <a href="https://github.com/jakubpawlowicz/clean-css/blob/master/LICENSE">MIT License</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
